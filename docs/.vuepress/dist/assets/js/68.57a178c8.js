(window.webpackJsonp=window.webpackJsonp||[]).push([[68],{340:function(t,a,s){"use strict";s.r(a);var n=s(6),r=Object(n.a)({},(function(){var t=this,a=t._self._c;return a("ContentSlotsDistributor",{attrs:{"slot-key":t.$parent.slotKey}},[a("h1",{attrs:{id:"代码整洁之道-注释篇"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#代码整洁之道-注释篇"}},[t._v("#")]),t._v(" 代码整洁之道 - 注释篇")]),t._v(" "),a("h2",{attrs:{id:"理论篇"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#理论篇"}},[t._v("#")]),t._v(" 理论篇")]),t._v(" "),a("p",[a("strong",[a("code",[t._v("注释，不能美化糟糕的代码")])])]),t._v(" "),a("ul",[a("li",[t._v("注释本质上是为了弥补"),a("code",[t._v("代码表达的不明确性")]),t._v(" "),a("ul",[a("li",[t._v("如果能用优雅的代码清晰的表达含义的时候，就没必要再使用注释")]),t._v(" "),a("li",[t._v("尽可能做到用简洁清晰的代码逻辑，而不是用大量的注释来弥补糟糕的代码")])])]),t._v(" "),a("li",[t._v("注释"),a("code",[t._v("也需要专门去维护")]),t._v(" "),a("ul",[a("li",[t._v("随着需求的不断迭代，注释很可能也是需要不断去更新的，如果不去维护，时间越久，注释的含义与最新代码的含义差的越远，反而引起歧义")])])])]),t._v(" "),a("h2",{attrs:{id:"实战"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#实战"}},[t._v("#")]),t._v(" 实战")]),t._v(" "),a("h3",{attrs:{id:"公共-api-注释"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#公共-api-注释"}},[t._v("#")]),t._v(" 公共 API 注释")]),t._v(" "),a("div",{staticClass:"language-js extra-class"},[a("pre",{pre:!0,attrs:{class:"language-js"}},[a("code",[a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("/**\n * @private\n * @param {Function} func The function to invoke\n * @param {Array} args The arguments to invoke `func` with\n * @returns {*} Returns the result of `func`\n */")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("function")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("apply")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token parameter"}},[t._v("func"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" args")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n  "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("return")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("func")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("apply")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("args"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n")])])]),a("h3",{attrs:{id:"todo-注释"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#todo-注释"}},[t._v("#")]),t._v(" TODO 注释")]),t._v(" "),a("p",[t._v("通过 TODO 注释，可以在项目中，把一些暂未实现的功能列表等通过 TODO 注释的形式来记录一下。")]),t._v(" "),a("div",{staticClass:"language-js extra-class"},[a("pre",{pre:!0,attrs:{class:"language-js"}},[a("code",[a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// good case")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("function")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("getNumber")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token parameter"}},[t._v("number")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n  "),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// TODO: 这里的状态需要单独维护起来，不应该使用魔术数字。")]),t._v("\n  "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("const")]),t._v(" status "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("0")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n  "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("return")]),t._v(" number"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n")])])]),a("h3",{attrs:{id:"警示作用"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#警示作用"}},[t._v("#")]),t._v(" 警示作用")]),t._v(" "),a("ul",[a("li",[t._v("开发中，可能有些代码逻辑可能会导致某种后果")]),t._v(" "),a("li",[t._v("代码逻辑已经足够好，但是依然需要去说明一下情况")])]),t._v(" "),a("div",{staticClass:"language-js extra-class"},[a("pre",{pre:!0,attrs:{class:"language-js"}},[a("code",[a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// good case")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("function")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("getNumber")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token parameter"}},[t._v("number")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n  "),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// FIXME: 这里不应该使用全局变量num")]),t._v("\n  num "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("0")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n  "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("return")]),t._v(" number"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n")])])]),a("h3",{attrs:{id:"逻辑复杂的也要加上注释"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#逻辑复杂的也要加上注释"}},[t._v("#")]),t._v(" 逻辑复杂的也要加上注释")]),t._v(" "),a("ul",[a("li",[t._v("逻辑很复杂")]),t._v(" "),a("li",[t._v("代码逻辑比较重要，或者需要强调一下，这个时候，也可以通过添加注释的形式去强调。")])]),t._v(" "),a("h2",{attrs:{id:"坏习惯"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#坏习惯"}},[t._v("#")]),t._v(" 坏习惯")]),t._v(" "),a("p",[a("code",[t._v("能用优雅的代码表达，就不要用注释，如果必须加注释，一定要认真去维护和书写注释。")])]),t._v(" "),a("h3",{attrs:{id:"注释不认真对待"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#注释不认真对待"}},[t._v("#")]),t._v(" 注释不认真对待")]),t._v(" "),a("p",[t._v("一定要认真对待，避免起到反作用，注释也需要花时间阅读。")]),t._v(" "),a("div",{staticClass:"language-js extra-class"},[a("pre",{pre:!0,attrs:{class:"language-js"}},[a("code",[a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// bad case")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// 获取列表")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("function")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("getTastList")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n  "),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("//...")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n")])])]),a("ol",[a("li",[t._v("多余的注释：已经能够通过方法名比较清晰的明白该方法的作用。"),a("code",[t._v("注释的作用是为了弥补代码表达的不足，不是每段代码都要加注释")])]),t._v(" "),a("li",[t._v("误导性注释：既然选择加注释，那就认真对待注释。不要把注释写的模棱两可，或者可有可无，假如文件中还有一个获取其他列表的方法，那是不是就有歧义了。")])]),t._v(" "),a("h3",{attrs:{id:"哪里都加注释"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#哪里都加注释"}},[t._v("#")]),t._v(" 哪里都加注释")]),t._v(" "),a("ol",[a("li",[t._v("注释阅读需要时间")]),t._v(" "),a("li",[t._v("注释需要维护成本")])]),t._v(" "),a("h3",{attrs:{id:"注释掉的代码"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#注释掉的代码"}},[t._v("#")]),t._v(" 注释掉的代码")]),t._v(" "),a("p",[t._v("对别人会产生疑问")]),t._v(" "),a("ul",[a("li",[t._v("这段代码是否还有作用，能不能删?")]),t._v(" "),a("li",[t._v("注释越多，整体代码质量就会越差")])]),t._v(" "),a("h3",{attrs:{id:"注释信息过多"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#注释信息过多"}},[t._v("#")]),t._v(" 注释信息过多")]),t._v(" "),a("p",[t._v("注释的信息过多，也没人愿意看，不仅代码，注释也要简洁，能够说明问题即可。")]),t._v(" "),a("h2",{attrs:{id:"vscode-插件推荐"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#vscode-插件推荐"}},[t._v("#")]),t._v(" vscode 插件推荐")]),t._v(" "),a("ul",[a("li",[t._v("Better Comments：特点是可以改变注释的颜色，通过不同颜色来表示不同情况")]),t._v(" "),a("li",[t._v("koroFileHeader：特点是可以在文件头部快捷添加注释和函数注释。")])])])}),[],!1,null,null,null);a.default=r.exports}}]);