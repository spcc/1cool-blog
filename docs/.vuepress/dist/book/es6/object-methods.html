<!DOCTYPE html>
<html lang="en-US">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>对象的新增方法 | 1cool</title>
    <meta name="generator" content="VuePress 1.9.7">
    <script language="javascript" type="text/javascript" src="https://cdn.bootcdn.net/ajax/libs/jquery/3.5.1/jquery.min.js"></script>
    <script language="javascript" type="text/javascript" src="/cc/js/MouseClickEffect.js"></script>
    <meta name="description" content="我做过最勇敢的一件事，就是喜欢你">
    
    <link rel="preload" href="/cc/assets/css/0.styles.f862f993.css" as="style"><link rel="preload" href="/cc/assets/js/app.fa0899e6.js" as="script"><link rel="preload" href="/cc/assets/js/2.e5636081.js" as="script"><link rel="preload" href="/cc/assets/js/15.79a67f48.js" as="script"><link rel="prefetch" href="/cc/assets/js/10.bf8e7b98.js"><link rel="prefetch" href="/cc/assets/js/100.c4a32c40.js"><link rel="prefetch" href="/cc/assets/js/101.5e0e712f.js"><link rel="prefetch" href="/cc/assets/js/102.c9afc137.js"><link rel="prefetch" href="/cc/assets/js/103.1782fdd8.js"><link rel="prefetch" href="/cc/assets/js/104.ee8f6da5.js"><link rel="prefetch" href="/cc/assets/js/105.6fed0d11.js"><link rel="prefetch" href="/cc/assets/js/106.bbce3ac5.js"><link rel="prefetch" href="/cc/assets/js/107.0ee6b974.js"><link rel="prefetch" href="/cc/assets/js/108.c2c3396a.js"><link rel="prefetch" href="/cc/assets/js/109.4557fc81.js"><link rel="prefetch" href="/cc/assets/js/11.010c83aa.js"><link rel="prefetch" href="/cc/assets/js/110.144acfc7.js"><link rel="prefetch" href="/cc/assets/js/111.e98e2f8a.js"><link rel="prefetch" href="/cc/assets/js/112.183368b3.js"><link rel="prefetch" href="/cc/assets/js/113.0d0393bc.js"><link rel="prefetch" href="/cc/assets/js/114.1106c336.js"><link rel="prefetch" href="/cc/assets/js/115.0cb8476b.js"><link rel="prefetch" href="/cc/assets/js/116.dd659ecf.js"><link rel="prefetch" href="/cc/assets/js/117.1de9188d.js"><link rel="prefetch" href="/cc/assets/js/118.7e2b7035.js"><link rel="prefetch" href="/cc/assets/js/119.327f31bf.js"><link rel="prefetch" href="/cc/assets/js/12.fe173b0e.js"><link rel="prefetch" href="/cc/assets/js/120.e50a25ad.js"><link rel="prefetch" href="/cc/assets/js/121.ad0acbb3.js"><link rel="prefetch" href="/cc/assets/js/122.102c5a27.js"><link rel="prefetch" href="/cc/assets/js/123.07012bdf.js"><link rel="prefetch" href="/cc/assets/js/124.375f8e26.js"><link rel="prefetch" href="/cc/assets/js/125.c4c81e7d.js"><link rel="prefetch" href="/cc/assets/js/126.25cc4e66.js"><link rel="prefetch" href="/cc/assets/js/127.6bbd3e3b.js"><link rel="prefetch" href="/cc/assets/js/128.e38e2a64.js"><link rel="prefetch" href="/cc/assets/js/129.a7048346.js"><link rel="prefetch" href="/cc/assets/js/13.e1bdcccf.js"><link rel="prefetch" href="/cc/assets/js/130.c6d6bfc6.js"><link rel="prefetch" href="/cc/assets/js/131.3dae6377.js"><link rel="prefetch" href="/cc/assets/js/132.9dbc1f1e.js"><link rel="prefetch" href="/cc/assets/js/133.a7010b5a.js"><link rel="prefetch" href="/cc/assets/js/134.6ec4d479.js"><link rel="prefetch" href="/cc/assets/js/135.036dd37f.js"><link rel="prefetch" href="/cc/assets/js/136.2aec2870.js"><link rel="prefetch" href="/cc/assets/js/137.72a5c43f.js"><link rel="prefetch" href="/cc/assets/js/138.4f7b055a.js"><link rel="prefetch" href="/cc/assets/js/139.2ba0dbeb.js"><link rel="prefetch" href="/cc/assets/js/14.8addf38e.js"><link rel="prefetch" href="/cc/assets/js/140.f8383698.js"><link rel="prefetch" href="/cc/assets/js/141.77b9a89e.js"><link rel="prefetch" href="/cc/assets/js/142.0619c4e0.js"><link rel="prefetch" href="/cc/assets/js/143.11fd5b22.js"><link rel="prefetch" href="/cc/assets/js/144.9b316fc8.js"><link rel="prefetch" href="/cc/assets/js/145.249cd0be.js"><link rel="prefetch" href="/cc/assets/js/146.965823ac.js"><link rel="prefetch" href="/cc/assets/js/147.8eae2fde.js"><link rel="prefetch" href="/cc/assets/js/148.9dd936ba.js"><link rel="prefetch" href="/cc/assets/js/16.7e6e2c23.js"><link rel="prefetch" href="/cc/assets/js/17.feed4c37.js"><link rel="prefetch" href="/cc/assets/js/18.fdc91b9d.js"><link rel="prefetch" href="/cc/assets/js/19.a9a778eb.js"><link rel="prefetch" href="/cc/assets/js/20.a106a454.js"><link rel="prefetch" href="/cc/assets/js/21.28e65e06.js"><link rel="prefetch" href="/cc/assets/js/22.f072982b.js"><link rel="prefetch" href="/cc/assets/js/23.76681d34.js"><link rel="prefetch" href="/cc/assets/js/24.734677d6.js"><link rel="prefetch" href="/cc/assets/js/25.5e18286c.js"><link rel="prefetch" href="/cc/assets/js/26.59d79813.js"><link rel="prefetch" href="/cc/assets/js/27.3e3585a2.js"><link rel="prefetch" href="/cc/assets/js/28.87949bb6.js"><link rel="prefetch" href="/cc/assets/js/29.dd94e122.js"><link rel="prefetch" href="/cc/assets/js/3.bbeb309a.js"><link rel="prefetch" href="/cc/assets/js/30.4b31b15a.js"><link rel="prefetch" href="/cc/assets/js/31.ad3b399c.js"><link rel="prefetch" href="/cc/assets/js/32.1e425bce.js"><link rel="prefetch" href="/cc/assets/js/33.cd061cf4.js"><link rel="prefetch" href="/cc/assets/js/34.8b5a1850.js"><link rel="prefetch" href="/cc/assets/js/35.37c5aa22.js"><link rel="prefetch" href="/cc/assets/js/36.9f2211d1.js"><link rel="prefetch" href="/cc/assets/js/37.db48c696.js"><link rel="prefetch" href="/cc/assets/js/38.6e5b6b6d.js"><link rel="prefetch" href="/cc/assets/js/39.e49dacd9.js"><link rel="prefetch" href="/cc/assets/js/4.a185d924.js"><link rel="prefetch" href="/cc/assets/js/40.72f2bc19.js"><link rel="prefetch" href="/cc/assets/js/41.c42ce7da.js"><link rel="prefetch" href="/cc/assets/js/42.912e4937.js"><link rel="prefetch" href="/cc/assets/js/43.485c8566.js"><link rel="prefetch" href="/cc/assets/js/44.8a1d4345.js"><link rel="prefetch" href="/cc/assets/js/45.fe1619e4.js"><link rel="prefetch" href="/cc/assets/js/46.541a4e86.js"><link rel="prefetch" href="/cc/assets/js/47.74260d1c.js"><link rel="prefetch" href="/cc/assets/js/48.bc82bff4.js"><link rel="prefetch" href="/cc/assets/js/49.5d76fd03.js"><link rel="prefetch" href="/cc/assets/js/5.987e1949.js"><link rel="prefetch" href="/cc/assets/js/50.3b56fc37.js"><link rel="prefetch" href="/cc/assets/js/51.cdfb197b.js"><link rel="prefetch" href="/cc/assets/js/52.bd598bc3.js"><link rel="prefetch" href="/cc/assets/js/53.4f8f1302.js"><link rel="prefetch" href="/cc/assets/js/54.468a0cc9.js"><link rel="prefetch" href="/cc/assets/js/55.2863273d.js"><link rel="prefetch" href="/cc/assets/js/56.0193bda5.js"><link rel="prefetch" href="/cc/assets/js/57.ef56b381.js"><link rel="prefetch" href="/cc/assets/js/58.2fec1638.js"><link rel="prefetch" href="/cc/assets/js/59.fde23549.js"><link rel="prefetch" href="/cc/assets/js/6.bb6fb7dd.js"><link rel="prefetch" href="/cc/assets/js/60.19e64ca5.js"><link rel="prefetch" href="/cc/assets/js/61.23013f50.js"><link rel="prefetch" href="/cc/assets/js/62.b2da71d5.js"><link rel="prefetch" href="/cc/assets/js/63.f2c45bbd.js"><link rel="prefetch" href="/cc/assets/js/64.69a4dabb.js"><link rel="prefetch" href="/cc/assets/js/65.9d5f6246.js"><link rel="prefetch" href="/cc/assets/js/66.3a68dbeb.js"><link rel="prefetch" href="/cc/assets/js/67.a4f9c7fc.js"><link rel="prefetch" href="/cc/assets/js/68.168d1e32.js"><link rel="prefetch" href="/cc/assets/js/69.f1250469.js"><link rel="prefetch" href="/cc/assets/js/7.175c0715.js"><link rel="prefetch" href="/cc/assets/js/70.6fc7de17.js"><link rel="prefetch" href="/cc/assets/js/71.0cd86f51.js"><link rel="prefetch" href="/cc/assets/js/72.905b43e2.js"><link rel="prefetch" href="/cc/assets/js/73.1088b1c6.js"><link rel="prefetch" href="/cc/assets/js/74.32cefe39.js"><link rel="prefetch" href="/cc/assets/js/75.32665307.js"><link rel="prefetch" href="/cc/assets/js/76.041e3f87.js"><link rel="prefetch" href="/cc/assets/js/77.3e06dede.js"><link rel="prefetch" href="/cc/assets/js/78.437ddda1.js"><link rel="prefetch" href="/cc/assets/js/79.77606012.js"><link rel="prefetch" href="/cc/assets/js/8.9ae88a5b.js"><link rel="prefetch" href="/cc/assets/js/80.beb72eca.js"><link rel="prefetch" href="/cc/assets/js/81.5ea28e81.js"><link rel="prefetch" href="/cc/assets/js/82.96ddf6b0.js"><link rel="prefetch" href="/cc/assets/js/83.f5f18c12.js"><link rel="prefetch" href="/cc/assets/js/84.be191533.js"><link rel="prefetch" href="/cc/assets/js/85.b610886e.js"><link rel="prefetch" href="/cc/assets/js/86.ecdf0b88.js"><link rel="prefetch" href="/cc/assets/js/87.e421e086.js"><link rel="prefetch" href="/cc/assets/js/88.b0dd1894.js"><link rel="prefetch" href="/cc/assets/js/89.9a41b063.js"><link rel="prefetch" href="/cc/assets/js/9.2bfe7659.js"><link rel="prefetch" href="/cc/assets/js/90.056336de.js"><link rel="prefetch" href="/cc/assets/js/91.8999ac99.js"><link rel="prefetch" href="/cc/assets/js/92.64494873.js"><link rel="prefetch" href="/cc/assets/js/93.a61718d7.js"><link rel="prefetch" href="/cc/assets/js/94.07248758.js"><link rel="prefetch" href="/cc/assets/js/95.0f95f8e6.js"><link rel="prefetch" href="/cc/assets/js/96.b95b6629.js"><link rel="prefetch" href="/cc/assets/js/97.98003d65.js"><link rel="prefetch" href="/cc/assets/js/98.cb0a6b8f.js"><link rel="prefetch" href="/cc/assets/js/99.5120cbbf.js">
    <link rel="stylesheet" href="/cc/assets/css/0.styles.f862f993.css">
  </head>
  <body>
    <div id="app" data-server-rendered="true"><div class="theme-container"><header class="navbar"><div class="sidebar-button"><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" role="img" viewBox="0 0 448 512" class="icon"><path fill="currentColor" d="M436 124H12c-6.627 0-12-5.373-12-12V80c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12z"></path></svg></div> <a href="/cc/" class="home-link router-link-active"><!----> <span class="site-name">1cool</span></a> <div class="links"><div class="search-box"><input aria-label="Search" autocomplete="off" spellcheck="false" value=""> <!----></div> <nav class="nav-links can-hide"><div class="nav-item"><a href="/cc/" class="nav-link">
  首页
</a></div><div class="nav-item"><a href="/cc/fuTong.html" class="nav-link">
  富通天下
</a></div><div class="nav-item"><a href="/cc/link.html" class="nav-link">
  常用链接
</a></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="知识点" class="dropdown-title"><span class="title">知识点</span> <span class="arrow down"></span></button> <button type="button" aria-label="知识点" class="mobile-dropdown-title"><span class="title">知识点</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><h4>
          技术
        </h4> <ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a href="/cc/skill/web/js/array.html" class="nav-link">
  JS
</a></li><li class="dropdown-subitem"><a href="/cc/skill/web/vue2/router/base.html" class="nav-link">
  Vue2
</a></li><li class="dropdown-subitem"><a href="/cc/skill/web/vue3/common.html" class="nav-link">
  Vue3
</a></li><li class="dropdown-subitem"><a href="/cc/skill/web/css3/bem.html" class="nav-link">
  Css3
</a></li><li class="dropdown-subitem"><a href="/cc/skill/web/other/git/common.html" class="nav-link">
  其他
</a></li></ul></li><li class="dropdown-item"><h4>
          工具
        </h4> <ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a href="/cc/skill/tool/vscode/fun.html" class="nav-link">
  VsCode
</a></li><li class="dropdown-subitem"><a href="/cc/skill/tool/warehouse/base.html" class="nav-link">
  Github/Gitee
</a></li><li class="dropdown-subitem"><a href="/cc/skill/tool/windows/base.html" class="nav-link">
  装机必备
</a></li></ul></li></ul></div></div><div class="nav-item"><a href="/cc/problem/Vue2/base.html" class="nav-link">
  疑难杂症
</a></div><div class="nav-item"><a href="/cc/book/es6/intro.html" class="nav-link">
  书籍
</a></div><div class="nav-item"><a href="/cc/interview/" class="nav-link">
  面试
</a></div><div class="nav-item"><a href="/cc/my/money/" class="nav-link">
  关于我
</a></div> <!----></nav></div></header> <div class="sidebar-mask"></div> <aside class="sidebar"><nav class="nav-links"><div class="nav-item"><a href="/cc/" class="nav-link">
  首页
</a></div><div class="nav-item"><a href="/cc/fuTong.html" class="nav-link">
  富通天下
</a></div><div class="nav-item"><a href="/cc/link.html" class="nav-link">
  常用链接
</a></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="知识点" class="dropdown-title"><span class="title">知识点</span> <span class="arrow down"></span></button> <button type="button" aria-label="知识点" class="mobile-dropdown-title"><span class="title">知识点</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><h4>
          技术
        </h4> <ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a href="/cc/skill/web/js/array.html" class="nav-link">
  JS
</a></li><li class="dropdown-subitem"><a href="/cc/skill/web/vue2/router/base.html" class="nav-link">
  Vue2
</a></li><li class="dropdown-subitem"><a href="/cc/skill/web/vue3/common.html" class="nav-link">
  Vue3
</a></li><li class="dropdown-subitem"><a href="/cc/skill/web/css3/bem.html" class="nav-link">
  Css3
</a></li><li class="dropdown-subitem"><a href="/cc/skill/web/other/git/common.html" class="nav-link">
  其他
</a></li></ul></li><li class="dropdown-item"><h4>
          工具
        </h4> <ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a href="/cc/skill/tool/vscode/fun.html" class="nav-link">
  VsCode
</a></li><li class="dropdown-subitem"><a href="/cc/skill/tool/warehouse/base.html" class="nav-link">
  Github/Gitee
</a></li><li class="dropdown-subitem"><a href="/cc/skill/tool/windows/base.html" class="nav-link">
  装机必备
</a></li></ul></li></ul></div></div><div class="nav-item"><a href="/cc/problem/Vue2/base.html" class="nav-link">
  疑难杂症
</a></div><div class="nav-item"><a href="/cc/book/es6/intro.html" class="nav-link">
  书籍
</a></div><div class="nav-item"><a href="/cc/interview/" class="nav-link">
  面试
</a></div><div class="nav-item"><a href="/cc/my/money/" class="nav-link">
  关于我
</a></div> <!----></nav>  <ul class="sidebar-links"><li><section class="sidebar-group collapsable depth-0"><a href="/cc/book/js4/" class="sidebar-heading clickable"><span>JavaScript 高级程序设计（第4版）</span> <span class="arrow right"></span></a> <!----></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading open"><span>ES6 标准入门</span> <span class="arrow down"></span></p> <ul class="sidebar-links sidebar-group-items"><li><a href="/cc/book/es6/intro.html" class="sidebar-link">ECMAScript 6 简介</a></li><li><a href="/cc/book/es6/let.html" class="sidebar-link">let 和 const 命令</a></li><li><a href="/cc/book/es6/destructuring.html" class="sidebar-link">变量的解构赋值</a></li><li><a href="/cc/book/es6/string.html" class="sidebar-link">字符串的扩展</a></li><li><a href="/cc/book/es6/string-methods.html" class="sidebar-link">字符串的新增方法</a></li><li><a href="/cc/book/es6/number.html" class="sidebar-link">数值的扩展</a></li><li><a href="/cc/book/es6/function.html" class="sidebar-link">函数的扩展</a></li><li><a href="/cc/book/es6/array.html" class="sidebar-link">数组的扩展</a></li><li><a href="/cc/book/es6/object.html" class="sidebar-link">对象的扩展</a></li><li><a href="/cc/book/es6/object-methods.html" aria-current="page" class="active sidebar-link">对象的新增方法</a></li><li><a href="/cc/book/es6/operator.html" class="sidebar-link">运算符的扩展</a></li><li><a href="/cc/book/es6/symbol.html" class="sidebar-link">symbol</a></li></ul></section></li><li><section class="sidebar-group depth-0"><a href="/cc/book/web-engineering/" class="sidebar-heading clickable"><span>从 0 到 1 落地前端工程化</span> <!----></a> <ul class="sidebar-links sidebar-group-items"><li><a href="/cc/book/web-engineering/introduction.html" class="sidebar-link">简介</a></li><li><a href="/cc/book/web-engineering/2.html" class="sidebar-link">asd</a></li></ul></section></li></ul> </aside> <main class="page"><div class="side-toc"><ul class="anchor"><li class="anchor-item"><a href="#_1-object-is" class="anchor-item__link" style="margin-left:0;">
        1. Object.is()
      </a></li><li class="anchor-item"><a href="#_2-object-assign" class="anchor-item__link" style="margin-left:0;">
        2. Object.assign()
      </a></li><li class="anchor-item"><a href="#注意点" class="anchor-item__link" style="margin-left:20px;">
        注意点
      </a></li><li class="anchor-item"><a href="#常见用途" class="anchor-item__link" style="margin-left:20px;">
        常见用途
      </a></li><li class="anchor-item"><a href="#_3-proto属性-object-setprototypeof-object-getprototypeof" class="anchor-item__link" style="margin-left:0;">
        3. proto属性，Object.setPrototypeOf()，Object.getPrototypeOf()
      </a></li><li class="anchor-item"><a href="#_4-object-keys-object-values-object-entries" class="anchor-item__link" style="margin-left:0;">
        4. Object.keys()，Object.values()，Object.entries()
      </a></li><li class="anchor-item"><a href="#object-keys" class="anchor-item__link" style="margin-left:20px;">
        Object.keys()
      </a></li><li class="anchor-item"><a href="#object-values-和-object-entries" class="anchor-item__link" style="margin-left:20px;">
        Object.values 和 Object.entries
      </a></li><li class="anchor-item"><a href="#object-values" class="anchor-item__link" style="margin-left:20px;">
        Object.values()
      </a></li><li class="anchor-item"><a href="#object-entries" class="anchor-item__link" style="margin-left:20px;">
        Object.entries()
      </a></li><li class="anchor-item"><a href="#_5-object-hasown" class="anchor-item__link" style="margin-left:0;">
        5. Object.hasOwn()
      </a></li></ul></div> <div class="theme-default-content content__default"><h1 id="对象的新增方法"><a href="#对象的新增方法" class="header-anchor">#</a> 对象的新增方法</h1> <h2 id="_1-object-is"><a href="#_1-object-is" class="header-anchor">#</a> 1. Object.is()</h2> <p>用来比较两个值是否严格相等，与严格比较运算符（===）的行为基本一致。</p> <p>ES5 比较两个值是否相等，只有两个运算符：相等运算符（<code>==</code>）和严格相等运算符（<code>===</code>）。<br>
它们都有缺点：</p> <ul><li>前者会自动转换数据类型</li> <li>后者的 NaN 不等于自身，以及+0 等于-0。</li></ul> <p>所以出了 Object.is,在所有环境中，只要两个值是一样的，它们就应该相等。</p> <div class="language-js extra-class"><pre class="language-js"><code>Object<span class="token punctuation">.</span><span class="token function">is</span><span class="token punctuation">(</span><span class="token string">&quot;foo&quot;</span><span class="token punctuation">,</span> <span class="token string">&quot;foo&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token comment">// true</span>
Object<span class="token punctuation">.</span><span class="token function">is</span><span class="token punctuation">(</span><span class="token punctuation">{</span><span class="token punctuation">}</span><span class="token punctuation">,</span> <span class="token punctuation">{</span><span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token comment">// false</span>

<span class="token comment">// 不同之处只有两个：一是+0不等于-0，二是NaN等于自身。</span>
<span class="token operator">+</span><span class="token number">0</span> <span class="token operator">===</span> <span class="token operator">-</span><span class="token number">0</span><span class="token punctuation">;</span> <span class="token comment">//true</span>
<span class="token number">NaN</span> <span class="token operator">===</span> <span class="token number">NaN</span><span class="token punctuation">;</span> <span class="token comment">// false</span>

Object<span class="token punctuation">.</span><span class="token function">is</span><span class="token punctuation">(</span><span class="token operator">+</span><span class="token number">0</span><span class="token punctuation">,</span> <span class="token operator">-</span><span class="token number">0</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// false</span>
Object<span class="token punctuation">.</span><span class="token function">is</span><span class="token punctuation">(</span><span class="token number">NaN</span><span class="token punctuation">,</span> <span class="token number">NaN</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// true</span>
</code></pre></div><h2 id="_2-object-assign"><a href="#_2-object-assign" class="header-anchor">#</a> 2. Object.assign()</h2> <p><code>Object.assign()</code> 方法用于对象的合并，将源对象（source）的所有可枚举属性，复制到目标对象（target）</p> <p><code>Object.assign()</code> 方法的第一个参数是目标对象，后面的参数都是源对象。</p> <div class="language-js extra-class"><pre class="language-js"><code><span class="token keyword">const</span> target <span class="token operator">=</span> <span class="token punctuation">{</span> <span class="token literal-property property">a</span><span class="token operator">:</span> <span class="token number">1</span> <span class="token punctuation">}</span><span class="token punctuation">;</span>
<span class="token keyword">const</span> source1 <span class="token operator">=</span> <span class="token punctuation">{</span> <span class="token literal-property property">b</span><span class="token operator">:</span> <span class="token number">2</span> <span class="token punctuation">}</span><span class="token punctuation">;</span>
<span class="token keyword">const</span> source2 <span class="token operator">=</span> <span class="token punctuation">{</span> <span class="token literal-property property">c</span><span class="token operator">:</span> <span class="token number">3</span> <span class="token punctuation">}</span><span class="token punctuation">;</span>

Object<span class="token punctuation">.</span><span class="token function">assign</span><span class="token punctuation">(</span>target<span class="token punctuation">,</span> source1<span class="token punctuation">,</span> source2<span class="token punctuation">)</span><span class="token punctuation">;</span>
target<span class="token punctuation">;</span> <span class="token comment">// {a:1, b:2, c:3}</span>

<span class="token comment">// 如果目标对象与源对象有同名属性，或多个源对象有同名属性，则后面的属性会覆盖前面的属性。</span>
<span class="token keyword">const</span> target <span class="token operator">=</span> <span class="token punctuation">{</span> <span class="token literal-property property">a</span><span class="token operator">:</span> <span class="token number">1</span><span class="token punctuation">,</span> <span class="token literal-property property">b</span><span class="token operator">:</span> <span class="token number">1</span> <span class="token punctuation">}</span><span class="token punctuation">;</span>
<span class="token keyword">const</span> source1 <span class="token operator">=</span> <span class="token punctuation">{</span> <span class="token literal-property property">b</span><span class="token operator">:</span> <span class="token number">2</span><span class="token punctuation">,</span> <span class="token literal-property property">c</span><span class="token operator">:</span> <span class="token number">2</span> <span class="token punctuation">}</span><span class="token punctuation">;</span>
<span class="token keyword">const</span> source2 <span class="token operator">=</span> <span class="token punctuation">{</span> <span class="token literal-property property">c</span><span class="token operator">:</span> <span class="token number">3</span> <span class="token punctuation">}</span><span class="token punctuation">;</span>

Object<span class="token punctuation">.</span><span class="token function">assign</span><span class="token punctuation">(</span>target<span class="token punctuation">,</span> source1<span class="token punctuation">,</span> source2<span class="token punctuation">)</span><span class="token punctuation">;</span>
target<span class="token punctuation">;</span> <span class="token comment">// {a:1, b:2, c:3}</span>

<span class="token comment">// 该参数不是对象，则会先转成对象，然后返回。</span>
<span class="token keyword">typeof</span> Object<span class="token punctuation">.</span><span class="token function">assign</span><span class="token punctuation">(</span><span class="token number">2</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// &quot;object&quot;</span>

<span class="token comment">// undefined和null无法转成对象，所以如果它们作为参数，就会报错。</span>
Object<span class="token punctuation">.</span><span class="token function">assign</span><span class="token punctuation">(</span><span class="token keyword">undefined</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// 报错</span>
Object<span class="token punctuation">.</span><span class="token function">assign</span><span class="token punctuation">(</span><span class="token keyword">null</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// 报错</span>

<span class="token comment">// 非对象参数出现在源对象的位置（即非首参数），那么处理规则有所不同。</span>
<span class="token comment">// 首先，这些参数都会转成对象，如果无法转成对象，就会跳过。这意味着，如果undefined和null不在首参数，就不会报错。</span>
<span class="token keyword">let</span> obj <span class="token operator">=</span> <span class="token punctuation">{</span> <span class="token literal-property property">a</span><span class="token operator">:</span> <span class="token number">1</span> <span class="token punctuation">}</span><span class="token punctuation">;</span>
Object<span class="token punctuation">.</span><span class="token function">assign</span><span class="token punctuation">(</span>obj<span class="token punctuation">,</span> <span class="token keyword">undefined</span><span class="token punctuation">)</span> <span class="token operator">===</span> obj<span class="token punctuation">;</span> <span class="token comment">// true</span>
Object<span class="token punctuation">.</span><span class="token function">assign</span><span class="token punctuation">(</span>obj<span class="token punctuation">,</span> <span class="token keyword">null</span><span class="token punctuation">)</span> <span class="token operator">===</span> obj<span class="token punctuation">;</span> <span class="token comment">// true</span>

<span class="token comment">// 其他类型的值（即数值、字符串和布尔值）不在首参数，也不会报错。但是，除了字符串会以数组形式，拷贝入目标对象，其他值都不会产生效果。</span>
<span class="token keyword">const</span> v1 <span class="token operator">=</span> <span class="token string">&quot;abc&quot;</span><span class="token punctuation">;</span>
<span class="token keyword">const</span> v2 <span class="token operator">=</span> <span class="token boolean">true</span><span class="token punctuation">;</span>
<span class="token keyword">const</span> v3 <span class="token operator">=</span> <span class="token number">10</span><span class="token punctuation">;</span>
<span class="token keyword">const</span> obj <span class="token operator">=</span> Object<span class="token punctuation">.</span><span class="token function">assign</span><span class="token punctuation">(</span><span class="token punctuation">{</span><span class="token punctuation">}</span><span class="token punctuation">,</span> v1<span class="token punctuation">,</span> v2<span class="token punctuation">,</span> v3<span class="token punctuation">)</span><span class="token punctuation">;</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>obj<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// { &quot;0&quot;: &quot;a&quot;, &quot;1&quot;: &quot;b&quot;, &quot;2&quot;: &quot;c&quot; }</span>
<span class="token comment">// 这是因为只有字符串的包装对象，会产生可枚举属性。</span>
</code></pre></div><h3 id="注意点"><a href="#注意点" class="header-anchor">#</a> 注意点</h3> <h4 id="_1-浅拷贝"><a href="#_1-浅拷贝" class="header-anchor">#</a> 1. 浅拷贝</h4> <p><code>Object.assign()</code>方法实行的是浅拷贝，而不是深拷贝。也就是说，如果源对象某个属性的值是对象，那么目标对象拷贝得到的是这个对象的引用。</p> <div class="language-js extra-class"><pre class="language-js"><code><span class="token keyword">const</span> obj1 <span class="token operator">=</span> <span class="token punctuation">{</span> <span class="token literal-property property">a</span><span class="token operator">:</span> <span class="token punctuation">{</span> <span class="token literal-property property">b</span><span class="token operator">:</span> <span class="token number">1</span> <span class="token punctuation">}</span> <span class="token punctuation">}</span><span class="token punctuation">;</span>
<span class="token keyword">const</span> obj2 <span class="token operator">=</span> Object<span class="token punctuation">.</span><span class="token function">assign</span><span class="token punctuation">(</span><span class="token punctuation">{</span><span class="token punctuation">}</span><span class="token punctuation">,</span> obj1<span class="token punctuation">)</span><span class="token punctuation">;</span>

obj1<span class="token punctuation">.</span>a<span class="token punctuation">.</span>b <span class="token operator">=</span> <span class="token number">2</span><span class="token punctuation">;</span>
obj2<span class="token punctuation">.</span>a<span class="token punctuation">.</span>b<span class="token punctuation">;</span> <span class="token comment">// 2</span>
</code></pre></div><p>上面代码中，源对象 <code>obj1</code> 的 <code>a</code> 属性的值是一个对象，<code>Object.assign()</code>拷贝得到的是这个对象的引用。这个对象的任何变化，都会反映到目标对象上面。</p> <h4 id="_2-同名属性的替换"><a href="#_2-同名属性的替换" class="header-anchor">#</a> 2. 同名属性的替换</h4> <p>对于这种嵌套的对象，一旦遇到同名属性，<code>Object.assign()</code> 的处理方法是替换，而不是添加。</p> <div class="language-js extra-class"><pre class="language-js"><code><span class="token keyword">const</span> target <span class="token operator">=</span> <span class="token punctuation">{</span> <span class="token literal-property property">a</span><span class="token operator">:</span> <span class="token punctuation">{</span> <span class="token literal-property property">b</span><span class="token operator">:</span> <span class="token string">&quot;c&quot;</span><span class="token punctuation">,</span> <span class="token literal-property property">d</span><span class="token operator">:</span> <span class="token string">&quot;e&quot;</span> <span class="token punctuation">}</span> <span class="token punctuation">}</span><span class="token punctuation">;</span>
<span class="token keyword">const</span> source <span class="token operator">=</span> <span class="token punctuation">{</span> <span class="token literal-property property">a</span><span class="token operator">:</span> <span class="token punctuation">{</span> <span class="token literal-property property">b</span><span class="token operator">:</span> <span class="token string">&quot;hello&quot;</span> <span class="token punctuation">}</span> <span class="token punctuation">}</span><span class="token punctuation">;</span>
Object<span class="token punctuation">.</span><span class="token function">assign</span><span class="token punctuation">(</span>target<span class="token punctuation">,</span> source<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token comment">// { a: { b: 'hello' } }</span>
</code></pre></div><p>一些函数库提供 <code>Object.assign()</code>的定制版本（比如 Lodash 的_.defaultsDeep()方法），可以得到深拷贝的合并。</p> <h4 id="_3-数组的处理"><a href="#_3-数组的处理" class="header-anchor">#</a> 3. 数组的处理</h4> <p><code>Object.assign()</code> 可以用来处理数组，但是会把数组视为对象。</p> <div class="language-js extra-class"><pre class="language-js"><code>Object<span class="token punctuation">.</span><span class="token function">assign</span><span class="token punctuation">(</span><span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">,</span> <span class="token number">3</span><span class="token punctuation">]</span><span class="token punctuation">,</span> <span class="token punctuation">[</span><span class="token number">4</span><span class="token punctuation">,</span> <span class="token number">5</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token comment">// [4, 5, 3]</span>
</code></pre></div><p>上面代码中，<code>Object.assign()</code> 把数组视为属性名为 0、1、2 的对象，因此源数组的 0 号属性 <code>4</code> 覆盖了目标数组的 0 号属性 <code>1</code>。</p> <h4 id="_4-取值函数的处理"><a href="#_4-取值函数的处理" class="header-anchor">#</a> 4. 取值函数的处理</h4> <p><code>Object.assign()</code> 只能进行值的复制，如果要复制的值是一个取值函数，那么将求值后再复制。</p> <div class="language-js extra-class"><pre class="language-js"><code><span class="token keyword">const</span> source <span class="token operator">=</span> <span class="token punctuation">{</span>
  <span class="token keyword">get</span> <span class="token function">foo</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">return</span> <span class="token number">1</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>
<span class="token keyword">const</span> target <span class="token operator">=</span> <span class="token punctuation">{</span><span class="token punctuation">}</span><span class="token punctuation">;</span>

Object<span class="token punctuation">.</span><span class="token function">assign</span><span class="token punctuation">(</span>target<span class="token punctuation">,</span> source<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token comment">// { foo: 1 }</span>
</code></pre></div><p>上面代码中，<code>source</code> 对象的 <code>foo</code> 属性是一个取值函数，<code>Object.assign()</code> 不会复制这个取值函数，只会拿到值以后，将这个值复制过去。</p> <h3 id="常见用途"><a href="#常见用途" class="header-anchor">#</a> 常见用途</h3> <h4 id="_1-为对象添加属性"><a href="#_1-为对象添加属性" class="header-anchor">#</a> 1. 为对象添加属性</h4> <div class="language-js extra-class"><pre class="language-js"><code><span class="token keyword">class</span> <span class="token class-name">Point</span> <span class="token punctuation">{</span>
  <span class="token function">constructor</span><span class="token punctuation">(</span><span class="token parameter">x<span class="token punctuation">,</span> y</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    Object<span class="token punctuation">.</span><span class="token function">assign</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">,</span> <span class="token punctuation">{</span> x<span class="token punctuation">,</span> y <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre></div><p>上面方法通过 <code>Object.assign()</code> 方法，将 <code>x</code> 属性和 <code>y</code> 属性添加到 <code>Point</code> 类的对象实例。</p> <h4 id="_2-为对象添加方法"><a href="#_2-为对象添加方法" class="header-anchor">#</a> 2. 为对象添加方法</h4> <div class="language-js extra-class"><pre class="language-js"><code>Object<span class="token punctuation">.</span><span class="token function">assign</span><span class="token punctuation">(</span><span class="token class-name">SomeClass</span><span class="token punctuation">.</span>prototype<span class="token punctuation">,</span> <span class="token punctuation">{</span>
  <span class="token function">someMethod</span><span class="token punctuation">(</span><span class="token parameter">arg1<span class="token punctuation">,</span> arg2</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    ···
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
  <span class="token function">anotherMethod</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    ···
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token comment">// 等同于下面的写法</span>
<span class="token class-name">SomeClass</span><span class="token punctuation">.</span>prototype<span class="token punctuation">.</span><span class="token function-variable function">someMethod</span> <span class="token operator">=</span> <span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token parameter">arg1<span class="token punctuation">,</span> arg2</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  ···
<span class="token punctuation">}</span><span class="token punctuation">;</span>
<span class="token class-name">SomeClass</span><span class="token punctuation">.</span>prototype<span class="token punctuation">.</span><span class="token function-variable function">anotherMethod</span> <span class="token operator">=</span> <span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  ···
<span class="token punctuation">}</span><span class="token punctuation">;</span>
</code></pre></div><p>上面代码使用了对象属性的简洁表示法，直接将两个函数放在大括号中，再使用 <code>assign()</code>方法添加到 <code>SomeClass.prototype</code> 之中。</p> <h4 id="_3-克隆对象"><a href="#_3-克隆对象" class="header-anchor">#</a> 3. 克隆对象</h4> <div class="language-js extra-class"><pre class="language-js"><code><span class="token keyword">function</span> <span class="token function">clone</span><span class="token punctuation">(</span><span class="token parameter">origin</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token keyword">return</span> Object<span class="token punctuation">.</span><span class="token function">assign</span><span class="token punctuation">(</span><span class="token punctuation">{</span><span class="token punctuation">}</span><span class="token punctuation">,</span> origin<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre></div><p>上面代码将原始对象拷贝到一个空对象，就得到了原始对象的克隆。</p> <h4 id="_4-合并多个对象"><a href="#_4-合并多个对象" class="header-anchor">#</a> 4. 合并多个对象</h4> <p>将多个对象合并到某个对象。</p> <div class="language-js extra-class"><pre class="language-js"><code><span class="token keyword">const</span> <span class="token function-variable function">merge</span> <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token parameter">target<span class="token punctuation">,</span> <span class="token operator">...</span>sources</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> Object<span class="token punctuation">.</span><span class="token function">assign</span><span class="token punctuation">(</span>target<span class="token punctuation">,</span> <span class="token operator">...</span>sources<span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre></div><p>如果希望合并后返回一个新对象，可以改写上面函数，对一个空对象合并。</p> <div class="language-js extra-class"><pre class="language-js"><code><span class="token keyword">const</span> <span class="token function-variable function">merge</span> <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token parameter"><span class="token operator">...</span>sources</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> Object<span class="token punctuation">.</span><span class="token function">assign</span><span class="token punctuation">(</span><span class="token punctuation">{</span><span class="token punctuation">}</span><span class="token punctuation">,</span> <span class="token operator">...</span>sources<span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre></div><h4 id="_5-为属性指定默认值"><a href="#_5-为属性指定默认值" class="header-anchor">#</a> 5. 为属性指定默认值</h4> <div class="language-js extra-class"><pre class="language-js"><code><span class="token keyword">const</span> <span class="token constant">DEFAULTS</span> <span class="token operator">=</span> <span class="token punctuation">{</span>
  <span class="token literal-property property">logLevel</span><span class="token operator">:</span> <span class="token number">0</span><span class="token punctuation">,</span>
  <span class="token literal-property property">outputFormat</span><span class="token operator">:</span> <span class="token string">&quot;html&quot;</span><span class="token punctuation">,</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>

<span class="token keyword">function</span> <span class="token function">processContent</span><span class="token punctuation">(</span><span class="token parameter">options</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  options <span class="token operator">=</span> Object<span class="token punctuation">.</span><span class="token function">assign</span><span class="token punctuation">(</span><span class="token punctuation">{</span><span class="token punctuation">}</span><span class="token punctuation">,</span> <span class="token constant">DEFAULTS</span><span class="token punctuation">,</span> options<span class="token punctuation">)</span><span class="token punctuation">;</span>
  console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>options<span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token comment">// ...</span>
<span class="token punctuation">}</span>
</code></pre></div><p>上面代码中，<code>DEFAULTS</code> 对象是默认值，<code>options</code> 对象是用户提供的参数。<code>Object.assign()</code>方法将 <code>DEFAULTS</code> 和 <code>options</code> 合并成一个新对象，如果两者有同名属性，则 <code>options</code> 的属性值会覆盖 <code>DEFAULTS</code> 的属性值。</p> <p>注意，由于存在浅拷贝的问题，<code>DEFAULTS</code> 对象和 <code>options</code> 对象的所有属性的值，最好都是简单类型，不要指向另一个对象。否则，<code>DEFAULTS</code> 对象的该属性很可能不起作用。</p> <div class="language-js extra-class"><pre class="language-js"><code><span class="token keyword">const</span> <span class="token constant">DEFAULTS</span> <span class="token operator">=</span> <span class="token punctuation">{</span>
  <span class="token literal-property property">url</span><span class="token operator">:</span> <span class="token punctuation">{</span>
    <span class="token literal-property property">host</span><span class="token operator">:</span> <span class="token string">&quot;example.com&quot;</span><span class="token punctuation">,</span>
    <span class="token literal-property property">port</span><span class="token operator">:</span> <span class="token number">7070</span><span class="token punctuation">,</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>

<span class="token function">processContent</span><span class="token punctuation">(</span><span class="token punctuation">{</span> <span class="token literal-property property">url</span><span class="token operator">:</span> <span class="token punctuation">{</span> <span class="token literal-property property">port</span><span class="token operator">:</span> <span class="token number">8000</span> <span class="token punctuation">}</span> <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token comment">// {</span>
<span class="token comment">//   url: {port: 8000}</span>
<span class="token comment">// }</span>
</code></pre></div><p>上面代码的原意是将 <code>url.port</code> 改成 <code>8000</code>，<code>url.host</code> 不变。实际结果却是 <code>options.url</code> 覆盖掉 <code>DEFAULTS.url</code>，所以 <code>url.host</code> 就不存在了。</p> <h2 id="_3-proto属性-object-setprototypeof-object-getprototypeof"><a href="#_3-proto属性-object-setprototypeof-object-getprototypeof" class="header-anchor">#</a> 3. <strong>proto</strong>属性，Object.setPrototypeOf()，Object.getPrototypeOf()</h2> <p>JavaScript 语言的对象继承是通过原型链实现的。ES6 提供了更多原型对象的操作方法。</p> <h2 id="_4-object-keys-object-values-object-entries"><a href="#_4-object-keys-object-values-object-entries" class="header-anchor">#</a> 4. Object.keys()，Object.values()，Object.entries()</h2> <h3 id="object-keys"><a href="#object-keys" class="header-anchor">#</a> Object.keys()</h3> <p>ES5 引入了 <code>Object.keys</code> 方法，返回一个数组，成员是参数对象自身的（不含继承的）所有可遍历（enumerable）属性的键名。</p> <div class="language-js extra-class"><pre class="language-js"><code><span class="token keyword">var</span> obj <span class="token operator">=</span> <span class="token punctuation">{</span> <span class="token literal-property property">foo</span><span class="token operator">:</span> <span class="token string">&quot;bar&quot;</span><span class="token punctuation">,</span> <span class="token literal-property property">baz</span><span class="token operator">:</span> <span class="token number">42</span> <span class="token punctuation">}</span><span class="token punctuation">;</span>
Object<span class="token punctuation">.</span><span class="token function">keys</span><span class="token punctuation">(</span>obj<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token comment">// [&quot;foo&quot;, &quot;baz&quot;]</span>
</code></pre></div><h3 id="object-values-和-object-entries"><a href="#object-values-和-object-entries" class="header-anchor">#</a> Object.values 和 Object.entries</h3> <p>ES2017 引入了跟 Object.keys 配套的 Object.values 和 Object.entries，作为遍历一个对象的补充手段，供 for...of 循环使用。</p> <div class="language-js extra-class"><pre class="language-js"><code><span class="token keyword">let</span> <span class="token punctuation">{</span> keys<span class="token punctuation">,</span> values<span class="token punctuation">,</span> entries <span class="token punctuation">}</span> <span class="token operator">=</span> Object<span class="token punctuation">;</span>
<span class="token keyword">let</span> obj <span class="token operator">=</span> <span class="token punctuation">{</span> <span class="token literal-property property">a</span><span class="token operator">:</span> <span class="token number">1</span><span class="token punctuation">,</span> <span class="token literal-property property">b</span><span class="token operator">:</span> <span class="token number">2</span><span class="token punctuation">,</span> <span class="token literal-property property">c</span><span class="token operator">:</span> <span class="token number">3</span> <span class="token punctuation">}</span><span class="token punctuation">;</span>

<span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">let</span> key <span class="token keyword">of</span> <span class="token function">keys</span><span class="token punctuation">(</span>obj<span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>key<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// 'a', 'b', 'c'</span>
<span class="token punctuation">}</span>

<span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">let</span> value <span class="token keyword">of</span> <span class="token function">values</span><span class="token punctuation">(</span>obj<span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>value<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// 1, 2, 3</span>
<span class="token punctuation">}</span>

<span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">let</span> <span class="token punctuation">[</span>key<span class="token punctuation">,</span> value<span class="token punctuation">]</span> <span class="token keyword">of</span> <span class="token function">entries</span><span class="token punctuation">(</span>obj<span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token punctuation">[</span>key<span class="token punctuation">,</span> value<span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// ['a', 1], ['b', 2], ['c', 3]</span>
<span class="token punctuation">}</span>
</code></pre></div><h3 id="object-values"><a href="#object-values" class="header-anchor">#</a> Object.values()</h3> <p><code>Object.values</code> 方法返回一个数组，成员是参数对象自身的（不含继承的）所有可遍历（enumerable）属性的键值。</p> <div class="language-js extra-class"><pre class="language-js"><code><span class="token keyword">const</span> obj <span class="token operator">=</span> <span class="token punctuation">{</span> <span class="token literal-property property">foo</span><span class="token operator">:</span> <span class="token string">&quot;bar&quot;</span><span class="token punctuation">,</span> <span class="token literal-property property">baz</span><span class="token operator">:</span> <span class="token number">42</span> <span class="token punctuation">}</span><span class="token punctuation">;</span>
Object<span class="token punctuation">.</span><span class="token function">values</span><span class="token punctuation">(</span>obj<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token comment">// [&quot;bar&quot;, 42]</span>
</code></pre></div><p>返回数组的成员顺序，与本章的《属性的遍历》部分介绍的排列规则一致。</p> <div class="language-js extra-class"><pre class="language-js"><code><span class="token comment">// 属性名为数值的属性，是按照数值大小，从小到大遍历的，因此返回的顺序是b、c、a。</span>
<span class="token keyword">const</span> obj <span class="token operator">=</span> <span class="token punctuation">{</span> <span class="token number">100</span><span class="token operator">:</span> <span class="token string">&quot;a&quot;</span><span class="token punctuation">,</span> <span class="token number">2</span><span class="token operator">:</span> <span class="token string">&quot;b&quot;</span><span class="token punctuation">,</span> <span class="token number">7</span><span class="token operator">:</span> <span class="token string">&quot;c&quot;</span> <span class="token punctuation">}</span><span class="token punctuation">;</span>
Object<span class="token punctuation">.</span><span class="token function">values</span><span class="token punctuation">(</span>obj<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token comment">// [&quot;b&quot;, &quot;c&quot;, &quot;a&quot;]</span>

<span class="token comment">// 参数是一个字符串，会返回各个字符组成的一个数组。</span>
Object<span class="token punctuation">.</span><span class="token function">values</span><span class="token punctuation">(</span><span class="token string">&quot;foo&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token comment">// ['f', 'o', 'o']</span>

<span class="token comment">// Object.values会先将其转为对象。由于数值和布尔值的包装对象，都不会为实例添加非继承的属性。所以，Object.values会返回空数组。</span>
Object<span class="token punctuation">.</span><span class="token function">values</span><span class="token punctuation">(</span><span class="token number">42</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// []</span>
Object<span class="token punctuation">.</span><span class="token function">values</span><span class="token punctuation">(</span><span class="token boolean">true</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// []</span>
</code></pre></div><h3 id="object-entries"><a href="#object-entries" class="header-anchor">#</a> Object.entries()</h3> <p><code>Object.entries()</code> 方法返回一个数组，成员是参数对象自身的（不含继承的）所有可遍历（enumerable）属性的键值对数组。</p> <div class="language-js extra-class"><pre class="language-js"><code><span class="token keyword">const</span> obj <span class="token operator">=</span> <span class="token punctuation">{</span> <span class="token literal-property property">foo</span><span class="token operator">:</span> <span class="token string">&quot;bar&quot;</span><span class="token punctuation">,</span> <span class="token literal-property property">baz</span><span class="token operator">:</span> <span class="token number">42</span> <span class="token punctuation">}</span><span class="token punctuation">;</span>
Object<span class="token punctuation">.</span><span class="token function">entries</span><span class="token punctuation">(</span>obj<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token comment">// [ [&quot;foo&quot;, &quot;bar&quot;], [&quot;baz&quot;, 42] ]</span>
</code></pre></div><p>除了返回值不一样，该方法的行为与 <code>Object.values</code> 基本一致。</p> <p><code>Object.entries</code> 的基本用途是遍历对象的属性</p> <div class="language-js extra-class"><pre class="language-js"><code><span class="token keyword">let</span> obj <span class="token operator">=</span> <span class="token punctuation">{</span> <span class="token literal-property property">one</span><span class="token operator">:</span> <span class="token number">1</span><span class="token punctuation">,</span> <span class="token literal-property property">two</span><span class="token operator">:</span> <span class="token number">2</span> <span class="token punctuation">}</span><span class="token punctuation">;</span>
<span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">let</span> <span class="token punctuation">[</span>k<span class="token punctuation">,</span> v<span class="token punctuation">]</span> <span class="token keyword">of</span> Object<span class="token punctuation">.</span><span class="token function">entries</span><span class="token punctuation">(</span>obj<span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token template-string"><span class="token template-punctuation string">`</span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">${</span><span class="token constant">JSON</span><span class="token punctuation">.</span><span class="token function">stringify</span><span class="token punctuation">(</span>k<span class="token punctuation">)</span><span class="token interpolation-punctuation punctuation">}</span></span><span class="token string">: </span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">${</span><span class="token constant">JSON</span><span class="token punctuation">.</span><span class="token function">stringify</span><span class="token punctuation">(</span>v<span class="token punctuation">)</span><span class="token interpolation-punctuation punctuation">}</span></span><span class="token template-punctuation string">`</span></span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
<span class="token comment">// &quot;one&quot;: 1</span>
<span class="token comment">// &quot;two&quot;: 2</span>
</code></pre></div><ol start="4"><li>Object.fromEntries()</li></ol> <p><code>Object.fromEntries()</code>方法是<code>Object.entries()</code>的逆操作，用于将一个键值对数组转为对象。</p> <div class="language-js extra-class"><pre class="language-js"><code>Object<span class="token punctuation">.</span><span class="token function">fromEntries</span><span class="token punctuation">(</span><span class="token punctuation">[</span>
  <span class="token punctuation">[</span><span class="token string">&quot;foo&quot;</span><span class="token punctuation">,</span> <span class="token string">&quot;bar&quot;</span><span class="token punctuation">]</span><span class="token punctuation">,</span>
  <span class="token punctuation">[</span><span class="token string">&quot;baz&quot;</span><span class="token punctuation">,</span> <span class="token number">42</span><span class="token punctuation">]</span><span class="token punctuation">,</span>
<span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token comment">// { foo: &quot;bar&quot;, baz: 42 }</span>
</code></pre></div><p>该方法的主要目的，是将键值对的数据结构还原为对象，因此特别适合将 Map 结构转为对象。</p> <div class="language-js extra-class"><pre class="language-js"><code><span class="token comment">// 例一</span>
<span class="token keyword">const</span> entries <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Map</span><span class="token punctuation">(</span><span class="token punctuation">[</span>
  <span class="token punctuation">[</span><span class="token string">&quot;foo&quot;</span><span class="token punctuation">,</span> <span class="token string">&quot;bar&quot;</span><span class="token punctuation">]</span><span class="token punctuation">,</span>
  <span class="token punctuation">[</span><span class="token string">&quot;baz&quot;</span><span class="token punctuation">,</span> <span class="token number">42</span><span class="token punctuation">]</span><span class="token punctuation">,</span>
<span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

Object<span class="token punctuation">.</span><span class="token function">fromEntries</span><span class="token punctuation">(</span>entries<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token comment">// { foo: &quot;bar&quot;, baz: 42 }</span>

<span class="token comment">// 例二</span>
<span class="token keyword">const</span> map <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Map</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">set</span><span class="token punctuation">(</span><span class="token string">&quot;foo&quot;</span><span class="token punctuation">,</span> <span class="token boolean">true</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">set</span><span class="token punctuation">(</span><span class="token string">&quot;bar&quot;</span><span class="token punctuation">,</span> <span class="token boolean">false</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
Object<span class="token punctuation">.</span><span class="token function">fromEntries</span><span class="token punctuation">(</span>map<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token comment">// { foo: true, bar: false }</span>
</code></pre></div><p>该方法的一个用处是配合 <code>URLSearchParams</code> 对象，将查询字符串转为对象。</p> <div class="language-js extra-class"><pre class="language-js"><code>Object<span class="token punctuation">.</span><span class="token function">fromEntries</span><span class="token punctuation">(</span><span class="token keyword">new</span> <span class="token class-name">URLSearchParams</span><span class="token punctuation">(</span><span class="token string">&quot;foo=bar&amp;baz=qux&quot;</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token comment">// { foo: &quot;bar&quot;, baz: &quot;qux&quot; }</span>
</code></pre></div><h2 id="_5-object-hasown"><a href="#_5-object-hasown" class="header-anchor">#</a> 5. Object.hasOwn()</h2> <p>JavaScript 对象的属性分成两种：自身的属性和继承的属性。对象实例有一个 <code>hasOwnProperty()</code>方法，可以判断某个属性是否为原生属性。ES2022 在 <code>Object</code> 对象上面新增了一个静态方法 <code>Object.hasOwn()</code>，也可以判断是否为自身的属性。</p> <p><code>Object.hasOwn()</code>可以接受两个参数，第一个是所要判断的对象，第二个是属性名。</p> <div class="language-js extra-class"><pre class="language-js"><code><span class="token keyword">const</span> foo <span class="token operator">=</span> Object<span class="token punctuation">.</span><span class="token function">create</span><span class="token punctuation">(</span><span class="token punctuation">{</span> <span class="token literal-property property">a</span><span class="token operator">:</span> <span class="token number">123</span> <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
foo<span class="token punctuation">.</span>b <span class="token operator">=</span> <span class="token number">456</span><span class="token punctuation">;</span>

Object<span class="token punctuation">.</span><span class="token function">hasOwn</span><span class="token punctuation">(</span>foo<span class="token punctuation">,</span> <span class="token string">&quot;a&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// false</span>
Object<span class="token punctuation">.</span><span class="token function">hasOwn</span><span class="token punctuation">(</span>foo<span class="token punctuation">,</span> <span class="token string">&quot;b&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// true</span>
</code></pre></div><p>上面示例中，对象 <code>foo</code> 的属性 <code>a</code> 是继承属性，属性 <code>b</code> 是原生属性。<code>Object.hasOwn()</code>对属性 <code>a</code> 返回 <code>false</code>，对属性 <code>b</code> 返回 <code>true</code>。</p> <p><code>Object.hasOwn()</code>的一个好处是，对于不继承 <code>Object.prototype</code> 的对象不会报错，而 <code>hasOwnProperty()</code>是会报错的。</p> <div class="language-js extra-class"><pre class="language-js"><code><span class="token keyword">const</span> obj <span class="token operator">=</span> Object<span class="token punctuation">.</span><span class="token function">create</span><span class="token punctuation">(</span><span class="token keyword">null</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

obj<span class="token punctuation">.</span><span class="token function">hasOwnProperty</span><span class="token punctuation">(</span><span class="token string">&quot;foo&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// 报错</span>
Object<span class="token punctuation">.</span><span class="token function">hasOwn</span><span class="token punctuation">(</span>obj<span class="token punctuation">,</span> <span class="token string">&quot;foo&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// false</span>
</code></pre></div><p>上面示例中，<code>Object.create(null)</code>返回的对象 <code>obj</code> 是没有原型的，不继承任何属性，这导致调用 <code>obj.hasOwnProperty()</code>会报错，但是 <code>Object.hasOwn()</code>就能正确处理这种情况。</p></div> <footer class="page-edit"><!----> <div class="last-updated"><span class="prefix">最后更新时间:</span> <span class="time">10/26/2022, 8:49:29 PM</span></div></footer> <div class="page-nav"><p class="inner"><span class="prev">
      ←
      <a href="/cc/book/es6/object.html" class="prev">
        对象的扩展
      </a></span> <span class="next"><a href="/cc/book/es6/operator.html">
        运算符的扩展
      </a>
      →
    </span></p></div> </main></div><div class="global-ui"><!----><!----><div></div></div></div>
    <script src="/cc/assets/js/app.fa0899e6.js" defer></script><script src="/cc/assets/js/2.e5636081.js" defer></script><script src="/cc/assets/js/15.79a67f48.js" defer></script>
  </body>
</html>
