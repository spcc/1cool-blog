<!DOCTYPE html>
<html lang="en-US">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>第 5 章 基本引用类型 | 1cool</title>
    <meta name="generator" content="VuePress 1.9.7">
    <script language="javascript" type="text/javascript" src="https://cdn.bootcdn.net/ajax/libs/jquery/3.5.1/jquery.min.js"></script>
    <script language="javascript" type="text/javascript" src="/cc/js/MouseClickEffect.js"></script>
    <meta name="description" content="我做过最勇敢的一件事，就是喜欢你">
    
    <link rel="preload" href="/cc/assets/css/0.styles.f862f993.css" as="style"><link rel="preload" href="/cc/assets/js/app.fa0899e6.js" as="script"><link rel="preload" href="/cc/assets/js/2.e5636081.js" as="script"><link rel="preload" href="/cc/assets/js/29.dd94e122.js" as="script"><link rel="prefetch" href="/cc/assets/js/10.bf8e7b98.js"><link rel="prefetch" href="/cc/assets/js/100.c4a32c40.js"><link rel="prefetch" href="/cc/assets/js/101.5e0e712f.js"><link rel="prefetch" href="/cc/assets/js/102.c9afc137.js"><link rel="prefetch" href="/cc/assets/js/103.1782fdd8.js"><link rel="prefetch" href="/cc/assets/js/104.ee8f6da5.js"><link rel="prefetch" href="/cc/assets/js/105.6fed0d11.js"><link rel="prefetch" href="/cc/assets/js/106.bbce3ac5.js"><link rel="prefetch" href="/cc/assets/js/107.0ee6b974.js"><link rel="prefetch" href="/cc/assets/js/108.c2c3396a.js"><link rel="prefetch" href="/cc/assets/js/109.4557fc81.js"><link rel="prefetch" href="/cc/assets/js/11.010c83aa.js"><link rel="prefetch" href="/cc/assets/js/110.144acfc7.js"><link rel="prefetch" href="/cc/assets/js/111.e98e2f8a.js"><link rel="prefetch" href="/cc/assets/js/112.183368b3.js"><link rel="prefetch" href="/cc/assets/js/113.0d0393bc.js"><link rel="prefetch" href="/cc/assets/js/114.1106c336.js"><link rel="prefetch" href="/cc/assets/js/115.0cb8476b.js"><link rel="prefetch" href="/cc/assets/js/116.dd659ecf.js"><link rel="prefetch" href="/cc/assets/js/117.1de9188d.js"><link rel="prefetch" href="/cc/assets/js/118.7e2b7035.js"><link rel="prefetch" href="/cc/assets/js/119.327f31bf.js"><link rel="prefetch" href="/cc/assets/js/12.fe173b0e.js"><link rel="prefetch" href="/cc/assets/js/120.e50a25ad.js"><link rel="prefetch" href="/cc/assets/js/121.ad0acbb3.js"><link rel="prefetch" href="/cc/assets/js/122.102c5a27.js"><link rel="prefetch" href="/cc/assets/js/123.07012bdf.js"><link rel="prefetch" href="/cc/assets/js/124.375f8e26.js"><link rel="prefetch" href="/cc/assets/js/125.c4c81e7d.js"><link rel="prefetch" href="/cc/assets/js/126.25cc4e66.js"><link rel="prefetch" href="/cc/assets/js/127.6bbd3e3b.js"><link rel="prefetch" href="/cc/assets/js/128.e38e2a64.js"><link rel="prefetch" href="/cc/assets/js/129.a7048346.js"><link rel="prefetch" href="/cc/assets/js/13.e1bdcccf.js"><link rel="prefetch" href="/cc/assets/js/130.c6d6bfc6.js"><link rel="prefetch" href="/cc/assets/js/131.3dae6377.js"><link rel="prefetch" href="/cc/assets/js/132.9dbc1f1e.js"><link rel="prefetch" href="/cc/assets/js/133.a7010b5a.js"><link rel="prefetch" href="/cc/assets/js/134.6ec4d479.js"><link rel="prefetch" href="/cc/assets/js/135.036dd37f.js"><link rel="prefetch" href="/cc/assets/js/136.2aec2870.js"><link rel="prefetch" href="/cc/assets/js/137.72a5c43f.js"><link rel="prefetch" href="/cc/assets/js/138.4f7b055a.js"><link rel="prefetch" href="/cc/assets/js/139.2ba0dbeb.js"><link rel="prefetch" href="/cc/assets/js/14.8addf38e.js"><link rel="prefetch" href="/cc/assets/js/140.f8383698.js"><link rel="prefetch" href="/cc/assets/js/141.77b9a89e.js"><link rel="prefetch" href="/cc/assets/js/142.0619c4e0.js"><link rel="prefetch" href="/cc/assets/js/143.11fd5b22.js"><link rel="prefetch" href="/cc/assets/js/144.9b316fc8.js"><link rel="prefetch" href="/cc/assets/js/145.249cd0be.js"><link rel="prefetch" href="/cc/assets/js/146.965823ac.js"><link rel="prefetch" href="/cc/assets/js/147.8eae2fde.js"><link rel="prefetch" href="/cc/assets/js/148.9dd936ba.js"><link rel="prefetch" href="/cc/assets/js/15.79a67f48.js"><link rel="prefetch" href="/cc/assets/js/16.7e6e2c23.js"><link rel="prefetch" href="/cc/assets/js/17.feed4c37.js"><link rel="prefetch" href="/cc/assets/js/18.fdc91b9d.js"><link rel="prefetch" href="/cc/assets/js/19.a9a778eb.js"><link rel="prefetch" href="/cc/assets/js/20.a106a454.js"><link rel="prefetch" href="/cc/assets/js/21.28e65e06.js"><link rel="prefetch" href="/cc/assets/js/22.f072982b.js"><link rel="prefetch" href="/cc/assets/js/23.76681d34.js"><link rel="prefetch" href="/cc/assets/js/24.734677d6.js"><link rel="prefetch" href="/cc/assets/js/25.5e18286c.js"><link rel="prefetch" href="/cc/assets/js/26.59d79813.js"><link rel="prefetch" href="/cc/assets/js/27.3e3585a2.js"><link rel="prefetch" href="/cc/assets/js/28.87949bb6.js"><link rel="prefetch" href="/cc/assets/js/3.bbeb309a.js"><link rel="prefetch" href="/cc/assets/js/30.4b31b15a.js"><link rel="prefetch" href="/cc/assets/js/31.ad3b399c.js"><link rel="prefetch" href="/cc/assets/js/32.1e425bce.js"><link rel="prefetch" href="/cc/assets/js/33.cd061cf4.js"><link rel="prefetch" href="/cc/assets/js/34.8b5a1850.js"><link rel="prefetch" href="/cc/assets/js/35.37c5aa22.js"><link rel="prefetch" href="/cc/assets/js/36.9f2211d1.js"><link rel="prefetch" href="/cc/assets/js/37.db48c696.js"><link rel="prefetch" href="/cc/assets/js/38.6e5b6b6d.js"><link rel="prefetch" href="/cc/assets/js/39.e49dacd9.js"><link rel="prefetch" href="/cc/assets/js/4.a185d924.js"><link rel="prefetch" href="/cc/assets/js/40.72f2bc19.js"><link rel="prefetch" href="/cc/assets/js/41.c42ce7da.js"><link rel="prefetch" href="/cc/assets/js/42.912e4937.js"><link rel="prefetch" href="/cc/assets/js/43.485c8566.js"><link rel="prefetch" href="/cc/assets/js/44.8a1d4345.js"><link rel="prefetch" href="/cc/assets/js/45.fe1619e4.js"><link rel="prefetch" href="/cc/assets/js/46.541a4e86.js"><link rel="prefetch" href="/cc/assets/js/47.74260d1c.js"><link rel="prefetch" href="/cc/assets/js/48.bc82bff4.js"><link rel="prefetch" href="/cc/assets/js/49.5d76fd03.js"><link rel="prefetch" href="/cc/assets/js/5.987e1949.js"><link rel="prefetch" href="/cc/assets/js/50.3b56fc37.js"><link rel="prefetch" href="/cc/assets/js/51.cdfb197b.js"><link rel="prefetch" href="/cc/assets/js/52.bd598bc3.js"><link rel="prefetch" href="/cc/assets/js/53.4f8f1302.js"><link rel="prefetch" href="/cc/assets/js/54.468a0cc9.js"><link rel="prefetch" href="/cc/assets/js/55.2863273d.js"><link rel="prefetch" href="/cc/assets/js/56.0193bda5.js"><link rel="prefetch" href="/cc/assets/js/57.ef56b381.js"><link rel="prefetch" href="/cc/assets/js/58.2fec1638.js"><link rel="prefetch" href="/cc/assets/js/59.fde23549.js"><link rel="prefetch" href="/cc/assets/js/6.bb6fb7dd.js"><link rel="prefetch" href="/cc/assets/js/60.19e64ca5.js"><link rel="prefetch" href="/cc/assets/js/61.23013f50.js"><link rel="prefetch" href="/cc/assets/js/62.b2da71d5.js"><link rel="prefetch" href="/cc/assets/js/63.f2c45bbd.js"><link rel="prefetch" href="/cc/assets/js/64.69a4dabb.js"><link rel="prefetch" href="/cc/assets/js/65.9d5f6246.js"><link rel="prefetch" href="/cc/assets/js/66.3a68dbeb.js"><link rel="prefetch" href="/cc/assets/js/67.a4f9c7fc.js"><link rel="prefetch" href="/cc/assets/js/68.168d1e32.js"><link rel="prefetch" href="/cc/assets/js/69.f1250469.js"><link rel="prefetch" href="/cc/assets/js/7.175c0715.js"><link rel="prefetch" href="/cc/assets/js/70.6fc7de17.js"><link rel="prefetch" href="/cc/assets/js/71.0cd86f51.js"><link rel="prefetch" href="/cc/assets/js/72.905b43e2.js"><link rel="prefetch" href="/cc/assets/js/73.1088b1c6.js"><link rel="prefetch" href="/cc/assets/js/74.32cefe39.js"><link rel="prefetch" href="/cc/assets/js/75.32665307.js"><link rel="prefetch" href="/cc/assets/js/76.041e3f87.js"><link rel="prefetch" href="/cc/assets/js/77.3e06dede.js"><link rel="prefetch" href="/cc/assets/js/78.437ddda1.js"><link rel="prefetch" href="/cc/assets/js/79.77606012.js"><link rel="prefetch" href="/cc/assets/js/8.9ae88a5b.js"><link rel="prefetch" href="/cc/assets/js/80.beb72eca.js"><link rel="prefetch" href="/cc/assets/js/81.5ea28e81.js"><link rel="prefetch" href="/cc/assets/js/82.96ddf6b0.js"><link rel="prefetch" href="/cc/assets/js/83.f5f18c12.js"><link rel="prefetch" href="/cc/assets/js/84.be191533.js"><link rel="prefetch" href="/cc/assets/js/85.b610886e.js"><link rel="prefetch" href="/cc/assets/js/86.ecdf0b88.js"><link rel="prefetch" href="/cc/assets/js/87.e421e086.js"><link rel="prefetch" href="/cc/assets/js/88.b0dd1894.js"><link rel="prefetch" href="/cc/assets/js/89.9a41b063.js"><link rel="prefetch" href="/cc/assets/js/9.2bfe7659.js"><link rel="prefetch" href="/cc/assets/js/90.056336de.js"><link rel="prefetch" href="/cc/assets/js/91.8999ac99.js"><link rel="prefetch" href="/cc/assets/js/92.64494873.js"><link rel="prefetch" href="/cc/assets/js/93.a61718d7.js"><link rel="prefetch" href="/cc/assets/js/94.07248758.js"><link rel="prefetch" href="/cc/assets/js/95.0f95f8e6.js"><link rel="prefetch" href="/cc/assets/js/96.b95b6629.js"><link rel="prefetch" href="/cc/assets/js/97.98003d65.js"><link rel="prefetch" href="/cc/assets/js/98.cb0a6b8f.js"><link rel="prefetch" href="/cc/assets/js/99.5120cbbf.js">
    <link rel="stylesheet" href="/cc/assets/css/0.styles.f862f993.css">
  </head>
  <body>
    <div id="app" data-server-rendered="true"><div class="theme-container"><header class="navbar"><div class="sidebar-button"><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" role="img" viewBox="0 0 448 512" class="icon"><path fill="currentColor" d="M436 124H12c-6.627 0-12-5.373-12-12V80c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12z"></path></svg></div> <a href="/cc/" class="home-link router-link-active"><!----> <span class="site-name">1cool</span></a> <div class="links"><div class="search-box"><input aria-label="Search" autocomplete="off" spellcheck="false" value=""> <!----></div> <nav class="nav-links can-hide"><div class="nav-item"><a href="/cc/" class="nav-link">
  首页
</a></div><div class="nav-item"><a href="/cc/fuTong.html" class="nav-link">
  富通天下
</a></div><div class="nav-item"><a href="/cc/link.html" class="nav-link">
  常用链接
</a></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="知识点" class="dropdown-title"><span class="title">知识点</span> <span class="arrow down"></span></button> <button type="button" aria-label="知识点" class="mobile-dropdown-title"><span class="title">知识点</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><h4>
          技术
        </h4> <ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a href="/cc/skill/web/js/array.html" class="nav-link">
  JS
</a></li><li class="dropdown-subitem"><a href="/cc/skill/web/vue2/router/base.html" class="nav-link">
  Vue2
</a></li><li class="dropdown-subitem"><a href="/cc/skill/web/vue3/common.html" class="nav-link">
  Vue3
</a></li><li class="dropdown-subitem"><a href="/cc/skill/web/css3/bem.html" class="nav-link">
  Css3
</a></li><li class="dropdown-subitem"><a href="/cc/skill/web/other/git/common.html" class="nav-link">
  其他
</a></li></ul></li><li class="dropdown-item"><h4>
          工具
        </h4> <ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a href="/cc/skill/tool/vscode/fun.html" class="nav-link">
  VsCode
</a></li><li class="dropdown-subitem"><a href="/cc/skill/tool/warehouse/base.html" class="nav-link">
  Github/Gitee
</a></li><li class="dropdown-subitem"><a href="/cc/skill/tool/windows/base.html" class="nav-link">
  装机必备
</a></li></ul></li></ul></div></div><div class="nav-item"><a href="/cc/problem/Vue2/base.html" class="nav-link">
  疑难杂症
</a></div><div class="nav-item"><a href="/cc/book/es6/intro.html" class="nav-link">
  书籍
</a></div><div class="nav-item"><a href="/cc/interview/" class="nav-link">
  面试
</a></div><div class="nav-item"><a href="/cc/my/money/" class="nav-link">
  关于我
</a></div> <!----></nav></div></header> <div class="sidebar-mask"></div> <aside class="sidebar"><nav class="nav-links"><div class="nav-item"><a href="/cc/" class="nav-link">
  首页
</a></div><div class="nav-item"><a href="/cc/fuTong.html" class="nav-link">
  富通天下
</a></div><div class="nav-item"><a href="/cc/link.html" class="nav-link">
  常用链接
</a></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="知识点" class="dropdown-title"><span class="title">知识点</span> <span class="arrow down"></span></button> <button type="button" aria-label="知识点" class="mobile-dropdown-title"><span class="title">知识点</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><h4>
          技术
        </h4> <ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a href="/cc/skill/web/js/array.html" class="nav-link">
  JS
</a></li><li class="dropdown-subitem"><a href="/cc/skill/web/vue2/router/base.html" class="nav-link">
  Vue2
</a></li><li class="dropdown-subitem"><a href="/cc/skill/web/vue3/common.html" class="nav-link">
  Vue3
</a></li><li class="dropdown-subitem"><a href="/cc/skill/web/css3/bem.html" class="nav-link">
  Css3
</a></li><li class="dropdown-subitem"><a href="/cc/skill/web/other/git/common.html" class="nav-link">
  其他
</a></li></ul></li><li class="dropdown-item"><h4>
          工具
        </h4> <ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a href="/cc/skill/tool/vscode/fun.html" class="nav-link">
  VsCode
</a></li><li class="dropdown-subitem"><a href="/cc/skill/tool/warehouse/base.html" class="nav-link">
  Github/Gitee
</a></li><li class="dropdown-subitem"><a href="/cc/skill/tool/windows/base.html" class="nav-link">
  装机必备
</a></li></ul></li></ul></div></div><div class="nav-item"><a href="/cc/problem/Vue2/base.html" class="nav-link">
  疑难杂症
</a></div><div class="nav-item"><a href="/cc/book/es6/intro.html" class="nav-link">
  书籍
</a></div><div class="nav-item"><a href="/cc/interview/" class="nav-link">
  面试
</a></div><div class="nav-item"><a href="/cc/my/money/" class="nav-link">
  关于我
</a></div> <!----></nav>  <ul class="sidebar-links"><li><section class="sidebar-group collapsable depth-0"><a href="/cc/book/js4/" class="sidebar-heading clickable router-link-active open"><span>JavaScript 高级程序设计（第4版）</span> <span class="arrow down"></span></a> <ul class="sidebar-links sidebar-group-items"><li><a href="/cc/book/js4/base.html" class="sidebar-link">第 1 章 什么是 JavaScript</a></li><li><a href="/cc/book/js4/html.html" class="sidebar-link">第 2 章 HTML 中的 JavaScript</a></li><li><a href="/cc/book/js4/basic.html" class="sidebar-link">第 3 章 语言基础</a></li><li><a href="/cc/book/js4/var.html" class="sidebar-link">第 4 章 变量、作用域与内存</a></li><li><a href="/cc/book/js4/referenceType.html" aria-current="page" class="active sidebar-link">第 5 章 基本引用类型</a></li><li><a href="/cc/book/js4/collectionType.html" class="sidebar-link">第 6 章 集合引用类型</a></li><li><a href="/cc/book/js4/iteratorsAndGenerators.html" class="sidebar-link">第 7 章 迭代器与生成器</a></li><li><a href="/cc/book/js4/object.html" class="sidebar-link">第 8 章 对象、类与面向对象编程</a></li></ul></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span>ES6 标准入门</span> <span class="arrow right"></span></p> <!----></section></li><li><section class="sidebar-group depth-0"><a href="/cc/book/web-engineering/" class="sidebar-heading clickable"><span>从 0 到 1 落地前端工程化</span> <!----></a> <ul class="sidebar-links sidebar-group-items"><li><a href="/cc/book/web-engineering/introduction.html" class="sidebar-link">简介</a></li><li><a href="/cc/book/web-engineering/2.html" class="sidebar-link">asd</a></li></ul></section></li></ul> </aside> <main class="page"><div class="side-toc"><ul class="anchor"><li class="anchor-item"><a href="#_5-1-date" class="anchor-item__link" style="margin-left:0;">
        5.1 Date
      </a></li><li class="anchor-item"><a href="#_5-2-regexp" class="anchor-item__link" style="margin-left:0;">
        5.2 RegExp
      </a></li><li class="anchor-item"><a href="#_5-2-1-regexp-实例属性" class="anchor-item__link" style="margin-left:20px;">
        5.2.1 RegExp 实例属性
      </a></li><li class="anchor-item"><a href="#_5-2-2-regexp-实例方法" class="anchor-item__link" style="margin-left:20px;">
        5.2.2 RegExp 实例方法
      </a></li><li class="anchor-item"><a href="#_5-2-3-regexp-构造函数属性" class="anchor-item__link" style="margin-left:20px;">
        5.2.3 RegExp 构造函数属性
      </a></li><li class="anchor-item"><a href="#_5-3-原始值包装类型" class="anchor-item__link" style="margin-left:0;">
        5.3 原始值包装类型
      </a></li><li class="anchor-item"><a href="#_5-3-1-boolean" class="anchor-item__link" style="margin-left:20px;">
        5.3.1 Boolean
      </a></li><li class="anchor-item"><a href="#_5-3-2-number" class="anchor-item__link" style="margin-left:20px;">
        5.3.2 Number
      </a></li><li class="anchor-item"><a href="#_5-3-3-string" class="anchor-item__link" style="margin-left:20px;">
        5.3.3 String
      </a></li><li class="anchor-item"><a href="#_5-字符串包含方法" class="anchor-item__link" style="margin-left:20px;">
        5. 字符串包含方法
      </a></li><li class="anchor-item"><a href="#_5-4-单例内置对象" class="anchor-item__link" style="margin-left:20px;">
        5.4 单例内置对象
      </a></li><li class="anchor-item"><a href="#_5-4-1-global" class="anchor-item__link" style="margin-left:20px;">
        5.4.1 Global
      </a></li><li class="anchor-item"><a href="#_5-4-2-math" class="anchor-item__link" style="margin-left:20px;">
        5.4.2 Math
      </a></li><li class="anchor-item"><a href="#_5-5-小结" class="anchor-item__link" style="margin-left:0;">
        5.5 小结
      </a></li></ul></div> <div class="theme-default-content content__default"><h1 id="第-5-章-基本引用类型"><a href="#第-5-章-基本引用类型" class="header-anchor">#</a> 第 5 章 基本引用类型</h1> <p>引用值（或者对象）是某个特定<strong>引用类型</strong>的实例。在 ECMAScript 中，引用类型是把数据和功能组织到一起的结构，经常被人错误地称作“类”。虽然从技术上讲 JavaScript 是一门面向对象语言，但 ECMAScript 缺少传统的面向对象编程语言所具备的某些基本结构，包括类和接口。引用类型有时候也被称为对象定义，因为它们描述了自己的对象应有的属性和方法。</p> <p>对象被认为是某个特定引用类型的<strong>实例</strong>。新对象通过使用 new 操作符后跟一个<strong>构造函数</strong>（constructor）
来创建。构造函数就是用来创建新对象的函数，比如下面这行代码：</p> <div class="language-js extra-class"><pre class="language-js"><code><span class="token keyword">let</span> now <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Date</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
</code></pre></div><p>这行代码创建了引用类型 Date 的一个新实例，并将它保存在变量 now 中。Date()在这里就是构造函数，它负责创建一个只有默认属性和方法的简单对象。ECMAScript 提供了很多像 Date 这样的原生引用类型，帮助开发者实现常见的任务。</p> <div class="custom-block warning"><p class="custom-block-title">注意</p> <p>函数也是一种引用类型</p></div> <h2 id="_5-1-date"><a href="#_5-1-date" class="header-anchor">#</a> 5.1 Date</h2> <p><strong>一、GMT</strong></p> <ul><li><p>什么是 GMT</p> <ul><li>GMT（Greenwich Mean Time）， 格林威治平时（也称格林威治时间）。它规定太阳每天经过位于英国伦敦郊区的皇家格林威治天文台的时间为中午 12 点。</li></ul></li> <li><p>GMT 的历史</p> <ul><li><p>格林威治皇家天文台为了海上霸权的扩张计划，在十七世纪就开始进行天体观测。为了天文观测，选择了穿过英国伦敦格林威治天文台子午仪中心的一条经线作为零度参考线，这条线，简称格林威治子午线。</p></li> <li><p>1884 年 10 月在美国华盛顿召开了一个国际子午线会议，该会议将格林威治子午线设定为本初子午线，并将格林威治平时 (GMT, Greenwich Mean Time) 作为世界时间标准（UT, Universal Time）。由此也确定了全球 24 小时自然时区的划分，所有时区都以和 GMT 之间的偏移量做为参考。</p></li> <li><p>1972 年之前，格林威治时间（GMT）一直是世界时间的标准。1972 年之后，GMT 不再是一个时间标准了。</p></li></ul></li></ul> <p><strong>二、UTC</strong></p> <ul><li><p>什么是 UTC</p> <ul><li>UTC（Coodinated Universal Time），协调世界时，又称世界统一时间、世界标准时间、国际协调时间。由于英文（CUT）和法文（TUC）的缩写不同，作为妥协，简称 UTC。</li> <li>UTC 是现在全球通用的时间标准，全球各地都同意将各自的时间进行同步协调。UTC 时间是经过平均太阳时（以格林威治时间 GMT 为准）、地轴运动修正后的新时标以及以秒为单位的国际原子时所综合精算而成。</li> <li>在军事中，协调世界时会使用“Z”来表示。又由于 Z 在无线电联络中使用“Zulu”作代称，协调世界时也会被称为&quot;Zulu time&quot;。</li></ul></li> <li><p>UTC 由两部分构成：</p> <ul><li>原子时间（TAI, International Atomic Time）: 结合了全球 400 个所有的原子钟而得到的时间，它决定了我们每个人的钟表中，时间流动的速度。</li> <li>世界时间（UT, Universal Time）: 也称天文时间，或太阳时，他的依据是地球的自转，我们用它来确定多少原子时，对应于一个地球日的时间长度。</li></ul></li> <li><p>UTC 的历史</p> <ul><li>1960 年，国际无线电咨询委员会规范统一了 UTC 的概念，并在次年投入实际使用。</li> <li>“Coordinated Universal Time”这个名字则在 1967 年才被正式采纳。</li> <li>1967 年以前， UTC 被数次调整过，原因是要使用闰秒（leap second）来将 UTC 与地球自转时间进行统一。</li></ul></li></ul> <p><strong>三、GMT vs UTC</strong></p> <ol><li>GMT 是前世界标准时，UTC 是现世界标准时。</li> <li>UTC 比 GMT 更精准，以原子时计时，适应现代社会的精确计时。</li> <li>但在不需要精确到秒的情况下，二者可以视为等同。</li> <li>每年格林尼治天文台会发调时信息，基于 UTC。</li></ol> <p><strong>四、时区</strong></p> <p>随着火车铁路与其他交通和通讯工具的发展，以及全球化贸易的推动，各地使用各自的当地太阳时间带来了时间不统一的问题，在 19 世纪催生了统一时间标准的需求，时区由此诞生。</p> <ul><li>时区是如何定义的
<ul><li>从格林威治本初子午线起，经度每向东或者向西间隔 15°，就划分一个时区，在这个区域内，大家使用同样的标准时间。</li> <li>但实际上，为了照顾到行政上的方便，常将 1 个国家或 1 个省份划在一起。所以时区并不严格按南北直线来划分，而是按自然条件来划分。另外：由于目前，国际上并没有一个批准各国更改时区的机构。一些国家会由于特定原因改变自己的时区。</li> <li>全球共分为 24 个标准时区，相邻时区的时间相差一个小时。</li> <li>在不同地区，同一个时区往往会有很多个不同的时区名称，因为名称中通常会包含该国该地区的地理信息。在夏令时期间，当地的时区名称及字母缩写会有所变化（通常会包含“daylight”或“summer”字样）。</li> <li>例如美国东部标准时间叫：EST，Estern Standard Time；而东部夏令时间叫：EDT，Estern Daylight Time。</li></ul></li></ul> <p><strong>五、夏令时</strong></p> <ul><li>什么是夏令时
<ul><li>DST（Daylight Saving Time），夏令时又称夏季时间，或者夏时制。</li> <li>它是为节约能源而人为规定地方时间的制度。一般在天亮早的夏季人为将时间提前一小时，可以使人早起早睡，减少照明量，以充分利用光照资源，从而节约照明用电。</li> <li>全球约 40%的国家在夏季使用夏令时，其他国家则全年只使用标准时间。标准时间在有的国家也因此被相应地称为冬季时间。</li> <li>在施行夏令时的国家，一年里面有一天只有 23 小时（夏令时开始那一天），有一天有 25 小时（夏令时结束那一天），其他时间每天都是 24 小时。</li> <li>绿色部分为 2019 年统计的在全球施行冬夏令时的国家和地区。</li></ul></li> <li>夏令时的历史
<ul><li>1784 年，美国驻法国大使本杰明·富兰克林（Benjamin Franklin）提出“日光节约时间制”。1908 年，英国建筑师威廉·维莱特（William Willett）再次提出，但当时该提案并未被采纳。</li> <li>1916 年，处于一战时期的德国政府下令将时钟推至一个小时后，通过获得额外一小时的日光来节省战争所需的煤炭，成为第一个实行夏时制的国家。随后，英法俄美四个一战参战国纷纷效仿。</li> <li>美国在一战结束后于 1919 年取消夏时制，但在 1942 年二战时，美国重新启动夏令时制，1966 年正式立法确定永久使用。1973 至 1975 年石油危机爆发期间，美国连续两年延长夏令时制，以节省石油。</li> <li>欧洲大部分国家则是从 1976 年——第四次中东战争导致首次石油危机（1973 年）的 3 年后才开始施行夏令时制。</li> <li>1986 年 4 月，中国国务院办公厅发出《在全国范围内实行夏时制的通知》，要求全民早睡早起节约能源：每年 4 月中旬的第一个星期日 2 时，将时钟拨快一小时；10 月中旬第一个星期日的 2 时，再将时钟拨慢一小时。但此夏令时只实行了 6 年，在 1992 年停止施行，主因是中国东西地域广阔却只奉行一个北京时间，实时夏令时制带来很多不切实际的反效果。</li></ul></li> <li>夏令时的争议
<ul><li>从过去的 100 多年来看，夏令时往往是在国家发生严重危机（如战争和能源短缺）的情况下才会受到青睐。而在相对和平的近 10 年里，这种时间制度则变得越来越不受欢迎。</li> <li>它会使得人们的生物钟被扰乱，常常陷入睡眠不足的情况，不仅对人体健康有害、导致车祸，还会对旅游、航空领域造成极大的混乱。</li> <li>另外，冬、夏令时究竟能否起到节能的作用，也仍有待商榷。美国一项截至 2014 年 3 月的研究表明，这种时间转换制度最多能在 3、4 月帮助美国减少 1%的用电量，而美国国家标准局则认为，夏令时对用电量没有丝毫影响。</li> <li>在俄罗斯，此前的一份报告也显示，夏令时帮助俄罗斯每年节约的电量，仅相当于两三个火力发电厂的发电量，十分的“鸡肋”。</li> <li>去年（2019 年）3 月 26 日，作为全世界第一个提出并实行夏令时的国家，德国，在欧洲议会上以 410 比 192 的赞成票通过了取消冬、夏令时转换制提案，拟定于 2021 年 4 月起，所有欧盟国家不再实行冬、夏令时转换。待各成员国形成最终法案后，将选择永久使用夏令时时间或是冬令时时间。</li></ul></li></ul> <p><strong>六、本地时间</strong></p> <p>在日常生活中所使用的时间我们通常称之为本地时间。这个时间等于我们所在（或者所使用）时区内的当地时间，它由与世界标准时间（UTC）之间的偏移量来定义。这个偏移量可以表示为 UTC- 或 UTC+，后面接上偏移的小时和分钟数。</p> <p><strong>七、JavaScript 中的 Date</strong></p> <ul><li>得到本地时间，在不同时区打印 new Date() ，输出的结果将会不一样：</li></ul> <div class="language-js extra-class"><pre class="language-js"><code><span class="token keyword">new</span> <span class="token class-name">Date</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
</code></pre></div><h2 id="_5-2-regexp"><a href="#_5-2-regexp" class="header-anchor">#</a> 5.2 RegExp</h2> <p>ECMAScript 通过 RegExp 类型支持正则表达式。正则表达式使用类似 Perl 的简洁语法来创建：</p> <div class="language-js extra-class"><pre class="language-js"><code><span class="token keyword">let</span> expression <span class="token operator">=</span> <span class="token operator">/</span>pattern<span class="token operator">/</span>flags<span class="token punctuation">;</span>
</code></pre></div><p>这个正则表达式的 pattern（模式）可以是任何简单或复杂的正则表达式，包括字符类、限定符、分组、向前查找和反向引用。每个正则表达式可以带零个或多个 flags（标记），用于控制正则表达式的行为。下面给出了表示匹配模式的标记。</p> <ul><li>g：全局模式，表示查找字符串的全部内容，而不是找到第一个匹配的内容就结束。</li> <li>i：不区分大小写，表示在查找匹配时忽略 pattern 和字符串的大小写。</li> <li>m：多行模式，表示查找到一行文本末尾时会继续查找。</li> <li>y：粘附模式，表示只查找从 lastIndex 开始及之后的字符串。</li> <li>u：Unicode 模式，启用 Unicode 匹配。</li> <li>s：dotAll 模式，表示元字符.匹配任何字符（包括\n 或\r）。</li></ul> <p>使用不同模式和标记可以创建出各种正则表达式，比如：</p> <div class="language-js extra-class"><pre class="language-js"><code><span class="token comment">// 匹配字符串中的所有&quot;at&quot;</span>
<span class="token keyword">let</span> pattern1 <span class="token operator">=</span> <span class="token regex"><span class="token regex-delimiter">/</span><span class="token regex-source language-regex">at</span><span class="token regex-delimiter">/</span><span class="token regex-flags">g</span></span>

<span class="token comment">// 匹配第一个&quot;bat&quot;或&quot;cat&quot;，忽略大小写</span>
<span class="token keyword">let</span> pattern2 <span class="token operator">=</span> <span class="token regex"><span class="token regex-delimiter">/</span><span class="token regex-source language-regex">[bc]at</span><span class="token regex-delimiter">/</span><span class="token regex-flags">i</span></span>

<span class="token comment">// 匹配所有以&quot;at&quot;结尾的三字符组合，忽略大小写</span>
<span class="token keyword">let</span> pattern3 <span class="token operator">=</span> <span class="token regex"><span class="token regex-delimiter">/</span><span class="token regex-source language-regex">.at</span><span class="token regex-delimiter">/</span><span class="token regex-flags">gi</span></span>
</code></pre></div><p>与其他语言中的正则表达式类似，所有元字符在模式中也必须转义，包括：
( [ { \ ^ $ | ) ] } ? * + .</p> <p>元字符在正则表达式中都有一种或多种特殊功能，所以要匹配上面这些字符本身，就必须使用反斜
杠来转义。下面是几个例子：</p> <div class="language-js extra-class"><pre class="language-js"><code><span class="token comment">// 匹配第一个&quot;bat&quot;或&quot;cat&quot;，忽略大小写</span>
<span class="token keyword">let</span> pattern1 <span class="token operator">=</span> <span class="token regex"><span class="token regex-delimiter">/</span><span class="token regex-source language-regex">[bc]at</span><span class="token regex-delimiter">/</span><span class="token regex-flags">i</span></span>

<span class="token comment">// 匹配第一个&quot;[bc]at&quot;，忽略大小写</span>
<span class="token keyword">let</span> pattern2 <span class="token operator">=</span> <span class="token regex"><span class="token regex-delimiter">/</span><span class="token regex-source language-regex">\[bc\]at</span><span class="token regex-delimiter">/</span><span class="token regex-flags">i</span></span>

<span class="token comment">// 匹配所有以&quot;at&quot;结尾的三字符组合，忽略大小写</span>
<span class="token keyword">let</span> pattern3 <span class="token operator">=</span> <span class="token regex"><span class="token regex-delimiter">/</span><span class="token regex-source language-regex">.at</span><span class="token regex-delimiter">/</span><span class="token regex-flags">gi</span></span>

<span class="token comment">// 匹配所有&quot;.at&quot;，忽略大小写</span>
<span class="token keyword">let</span> pattern4 <span class="token operator">=</span> <span class="token regex"><span class="token regex-delimiter">/</span><span class="token regex-source language-regex">\.at</span><span class="token regex-delimiter">/</span><span class="token regex-flags">gi</span></span>
</code></pre></div><p>这里的 pattern1 匹配&quot;bat&quot;或&quot;cat&quot;，不区分大小写。要直接匹配&quot;[bc]at&quot;，左右中括号都必须像 pattern2 中那样使用反斜杠转义。在 pattern3 中，点号表示&quot;at&quot;前面的任意字符都可以配。如果想匹配&quot;.at&quot;，那么要像 pattern4 中那样对点号进行转义。</p> <p>前面例子中的正则表达式都是使用字面量形式定义的。正则表达式也可以使用 RegExp 构造函数来
创建，它接收两个参数：模式字符串和（可选的）标记字符串。任何使用字面量定义的正则表达式也可
以通过构造函数来创建，比如：</p> <div class="language-js extra-class"><pre class="language-js"><code><span class="token comment">// 匹配第一个&quot;bat&quot;或&quot;cat&quot;，忽略大小写</span>
<span class="token keyword">let</span> pattern1 <span class="token operator">=</span> <span class="token regex"><span class="token regex-delimiter">/</span><span class="token regex-source language-regex">[bc]at</span><span class="token regex-delimiter">/</span><span class="token regex-flags">i</span></span>

<span class="token comment">// 跟 pattern1 一样，只不过是用构造函数创建的</span>
<span class="token keyword">let</span> pattern2 <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">RegExp</span><span class="token punctuation">(</span><span class="token string">'[bc]at'</span><span class="token punctuation">,</span> <span class="token string">'i'</span><span class="token punctuation">)</span>
</code></pre></div><p>这里的 pattern1 和 pattern2 是等效的正则表达式。注意，RegExp 构造函数的两个参数都是字符串。因为 RegExp 的模式参数是字符串，所以在某些情况下需要二次转义。所有元字符都必须二次转义，包括转义字符序列，如\n（\转义后的字符串是\，在正则表达式字符串中则要写成\\）。下表展示了几个正则表达式的字面量形式，以及使用 RegExp 构造函数创建时对应的模式字符串。</p> <table><thead><tr><th style="text-align:left;">字面量模式</th> <th style="text-align:left;">对应的字符串</th></tr></thead> <tbody><tr><td style="text-align:left;">/[bc]at/</td> <td style="text-align:left;">&quot;\[bc\]at&quot;</td></tr> <tr><td style="text-align:left;">/.at/</td> <td style="text-align:left;">&quot;\.at&quot;</td></tr> <tr><td style="text-align:left;">/name/age/</td> <td style="text-align:left;">&quot;name\/age&quot;</td></tr> <tr><td style="text-align:left;">/\d.\d{1,2}/</td> <td style="text-align:left;">&quot;\d.\d{1,2}&quot;</td></tr> <tr><td style="text-align:left;">/\w\hello\123/</td> <td style="text-align:left;">&quot;\w\\hello\\123&quot;</td></tr></tbody></table> <p>此外，使用 RegExp 也可以基于已有的正则表达式实例，并可选择性地修改它们的标记：</p> <div class="language-js extra-class"><pre class="language-js"><code><span class="token keyword">const</span> re1 <span class="token operator">=</span> <span class="token regex"><span class="token regex-delimiter">/</span><span class="token regex-source language-regex">cat</span><span class="token regex-delimiter">/</span><span class="token regex-flags">g</span></span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>re1<span class="token punctuation">)</span> <span class="token comment">// &quot;/cat/g&quot;</span>

<span class="token keyword">const</span> re2 <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">RegExp</span><span class="token punctuation">(</span>re1<span class="token punctuation">)</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>re2<span class="token punctuation">)</span> <span class="token comment">// &quot;/cat/g&quot;</span>

<span class="token keyword">const</span> re3 <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">RegExp</span><span class="token punctuation">(</span>re1<span class="token punctuation">,</span> <span class="token string">'i'</span><span class="token punctuation">)</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>re3<span class="token punctuation">)</span> <span class="token comment">// &quot;/cat/i&quot;</span>
</code></pre></div><h3 id="_5-2-1-regexp-实例属性"><a href="#_5-2-1-regexp-实例属性" class="header-anchor">#</a> 5.2.1 RegExp 实例属性</h3> <p>实际开发中用得并不多，因为模式声明中包含这些信息。</p> <h3 id="_5-2-2-regexp-实例方法"><a href="#_5-2-2-regexp-实例方法" class="header-anchor">#</a> 5.2.2 RegExp 实例方法</h3> <p>RegExp 实例的主要方法是 exec()，主要用于配合捕获组使用。这个方法只接收一个参数，即要应用模式的字符串。如果找到了匹配项，则返回包含第一个匹配信息的数组；如果没找到匹配项，则返回
null。返回的数组虽然是 Array 的实例，但包含两个额外的属性：index 和 input。index 是字符串中匹配模式的起始位置，input 是要查找的字符串。这个数组的第一个元素是匹配整个模式的字符串，其他元素是与表达式中的捕获组匹配的字符串。如果模式中没有捕获组，则数组只包含一个元素。来看下面的例子：</p> <div class="language-js extra-class"><pre class="language-js"><code><span class="token keyword">let</span> text <span class="token operator">=</span> <span class="token string">'mom and dad and baby'</span>
<span class="token keyword">let</span> pattern <span class="token operator">=</span> <span class="token regex"><span class="token regex-delimiter">/</span><span class="token regex-source language-regex">mom( and dad( and baby)?)?</span><span class="token regex-delimiter">/</span><span class="token regex-flags">gi</span></span>
<span class="token keyword">let</span> matches <span class="token operator">=</span> pattern<span class="token punctuation">.</span><span class="token function">exec</span><span class="token punctuation">(</span>text<span class="token punctuation">)</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>matches<span class="token punctuation">.</span>index<span class="token punctuation">)</span> <span class="token comment">// 0</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>matches<span class="token punctuation">.</span>input<span class="token punctuation">)</span> <span class="token comment">// &quot;mom and dad and baby&quot;</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>matches<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token punctuation">)</span> <span class="token comment">// &quot;mom and dad and baby&quot;</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>matches<span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">]</span><span class="token punctuation">)</span> <span class="token comment">// &quot; and dad and baby&quot;</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>matches<span class="token punctuation">[</span><span class="token number">2</span><span class="token punctuation">]</span><span class="token punctuation">)</span> <span class="token comment">// &quot; and baby&quot;</span>
</code></pre></div><p>在这个例子中，模式包含两个捕获组：最内部的匹配项&quot; and baby&quot;，以及外部的匹配项&quot; and dad&quot;或&quot; and dad and baby&quot;。调用 exec()后找到了一个匹配项。因为整个字符串匹配模式，所以 matchs 数组的 index 属性就是 0。数组的第一个元素是匹配的整个字符串，第二个元素是匹配第一个捕获组的字符串，第三个元素是匹配第二个捕获组的字符串。</p> <p>在这个模式上设置了 g 标记，则每次调用 exec()都会在字符串中向前搜索下一个匹配项，如下面的例子所示：</p> <div class="language-js extra-class"><pre class="language-js"><code><span class="token keyword">let</span> text <span class="token operator">=</span> <span class="token string">'cat, bat, sat, fat'</span>
<span class="token keyword">let</span> pattern <span class="token operator">=</span> <span class="token regex"><span class="token regex-delimiter">/</span><span class="token regex-source language-regex">.at</span><span class="token regex-delimiter">/</span><span class="token regex-flags">g</span></span>
<span class="token keyword">let</span> matches <span class="token operator">=</span> pattern<span class="token punctuation">.</span><span class="token function">exec</span><span class="token punctuation">(</span>text<span class="token punctuation">)</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>matches<span class="token punctuation">.</span>index<span class="token punctuation">)</span> <span class="token comment">// 0</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>matches<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token punctuation">)</span> <span class="token comment">// cat</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>pattern<span class="token punctuation">.</span>lastIndex<span class="token punctuation">)</span> <span class="token comment">// 3</span>

matches <span class="token operator">=</span> pattern<span class="token punctuation">.</span><span class="token function">exec</span><span class="token punctuation">(</span>text<span class="token punctuation">)</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>matches<span class="token punctuation">.</span>index<span class="token punctuation">)</span> <span class="token comment">// 5</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>matches<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token punctuation">)</span> <span class="token comment">// bat</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>pattern<span class="token punctuation">.</span>lastIndex<span class="token punctuation">)</span> <span class="token comment">// 8</span>

matches <span class="token operator">=</span> pattern<span class="token punctuation">.</span><span class="token function">exec</span><span class="token punctuation">(</span>text<span class="token punctuation">)</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>matches<span class="token punctuation">.</span>index<span class="token punctuation">)</span> <span class="token comment">// 10</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>matches<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token punctuation">)</span> <span class="token comment">// sat</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>pattern<span class="token punctuation">.</span>lastIndex<span class="token punctuation">)</span> <span class="token comment">// 13</span>
</code></pre></div><p>这次模式设置了全局标记，因此每次调用 exec()都会返回字符串中的下一个匹配项，直到搜索到字符串末尾。注意模式的 lastIndex 属性每次都会变化。在全局匹配模式下，每次调用 exec()都会更新 lastIndex 值，以反映上次匹配的最后一个字符的索引</p> <p>如果模式设置了粘附标记 y，则每次调用 exec()就只会在 lastIndex 的位置上寻找匹配项。粘附
标记覆盖全局标记。</p> <div class="language-js extra-class"><pre class="language-js"><code><span class="token keyword">let</span> text <span class="token operator">=</span> <span class="token string">'cat, bat, sat, fat'</span>
<span class="token keyword">let</span> pattern <span class="token operator">=</span> <span class="token regex"><span class="token regex-delimiter">/</span><span class="token regex-source language-regex">.at</span><span class="token regex-delimiter">/</span><span class="token regex-flags">y</span></span>
<span class="token keyword">let</span> matches <span class="token operator">=</span> pattern<span class="token punctuation">.</span><span class="token function">exec</span><span class="token punctuation">(</span>text<span class="token punctuation">)</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>matches<span class="token punctuation">.</span>index<span class="token punctuation">)</span> <span class="token comment">// 0</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>matches<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token punctuation">)</span> <span class="token comment">// cat</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>pattern<span class="token punctuation">.</span>lastIndex<span class="token punctuation">)</span> <span class="token comment">// 3</span>
<span class="token comment">// 以索引 3 对应的字符开头找不到匹配项，因此 exec()返回 null</span>
<span class="token comment">// exec()没找到匹配项，于是将 lastIndex 设置为 0</span>
matches <span class="token operator">=</span> pattern<span class="token punctuation">.</span><span class="token function">exec</span><span class="token punctuation">(</span>text<span class="token punctuation">)</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>matches<span class="token punctuation">)</span> <span class="token comment">// null</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>pattern<span class="token punctuation">.</span>lastIndex<span class="token punctuation">)</span> <span class="token comment">// 0</span>
<span class="token comment">// 向前设置 lastIndex 可以让粘附的模式通过 exec()找到下一个匹配项：</span>
pattern<span class="token punctuation">.</span>lastIndex <span class="token operator">=</span> <span class="token number">5</span>
matches <span class="token operator">=</span> pattern<span class="token punctuation">.</span><span class="token function">exec</span><span class="token punctuation">(</span>text<span class="token punctuation">)</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>matches<span class="token punctuation">.</span>index<span class="token punctuation">)</span> <span class="token comment">// 5</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>matches<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token punctuation">)</span> <span class="token comment">// bat</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>pattern<span class="token punctuation">.</span>lastIndex<span class="token punctuation">)</span> <span class="token comment">// 8</span>
</code></pre></div><p>正则表达式的另一个方法是 test()，接收一个字符串参数。如果输入的文本与模式匹配，则参数返回 true，否则返回 false。这个方法适用于只想测试模式是否匹配，而不需要实际匹配内容的情况。test()经常用在 if 语句中：</p> <div class="language-js extra-class"><pre class="language-js"><code><span class="token keyword">let</span> text <span class="token operator">=</span> <span class="token string">'000-00-0000'</span>
<span class="token keyword">let</span> pattern <span class="token operator">=</span> <span class="token regex"><span class="token regex-delimiter">/</span><span class="token regex-source language-regex">\d{3}-\d{2}-\d{4}</span><span class="token regex-delimiter">/</span></span>
<span class="token keyword">if</span> <span class="token punctuation">(</span>pattern<span class="token punctuation">.</span><span class="token function">test</span><span class="token punctuation">(</span>text<span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">'The pattern was matched.'</span><span class="token punctuation">)</span>
<span class="token punctuation">}</span>
</code></pre></div><p>在这个例子中，正则表达式用于测试特定的数值序列。如果输入的文本与模式匹配，则显示匹配成功的消息。这个用法常用于验证用户输入，此时我们只在乎输入是否有效，不关心为什么无效。</p> <h3 id="_5-2-3-regexp-构造函数属性"><a href="#_5-2-3-regexp-构造函数属性" class="header-anchor">#</a> 5.2.3 RegExp 构造函数属性</h3> <div class="custom-block warning"><p class="custom-block-title">注意</p> <p>RegExp 构造函数的所有属性都没有任何 Web 标准出处，因此不要在生产环境中使用它们。</p></div> <h2 id="_5-3-原始值包装类型"><a href="#_5-3-原始值包装类型" class="header-anchor">#</a> 5.3 原始值包装类型</h2> <p>为了方便操作原始值，ECMAScript 提供了 3 种特殊的引用类型：Boolean、Number 和 String。</p> <p>引用类型与原始值包装类型的主要区别在于对象的生命周期。在通过 new 实例化引用类型后，得到的实例会在离开作用域时被销毁，而自动创建的原始值包装对象则只存在于访问它的那行代码执行期间。这意味着不能在运行时给原始值添加属性和方法。比如下面的例子：</p> <div class="language-js extra-class"><pre class="language-js"><code><span class="token keyword">let</span> s1 <span class="token operator">=</span> <span class="token string">'some text'</span>
s1<span class="token punctuation">.</span>color <span class="token operator">=</span> <span class="token string">'red'</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>s1<span class="token punctuation">.</span>color<span class="token punctuation">)</span> <span class="token comment">// undefined</span>
</code></pre></div><p>Object 构造函数作为一个工厂方法，能够根据传入值的类型返回相应原始值包装类型的实例。比如：</p> <div class="language-js extra-class"><pre class="language-js"><code><span class="token keyword">let</span> obj <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Object</span><span class="token punctuation">(</span><span class="token string">'some text'</span><span class="token punctuation">)</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>obj <span class="token keyword">instanceof</span> <span class="token class-name">String</span><span class="token punctuation">)</span> <span class="token comment">// true</span>
</code></pre></div><p>如果传给 Object 的是字符串，则会创建一个 String 的实例。如果是数值，则会创建 Number 的
实例。布尔值则会得到 Boolean 的实例。</p> <hr> <p>注意，使用 new 调用原始值包装类型的构造函数，与调用同名的转型函数并不一样。例如：</p> <div class="language-js extra-class"><pre class="language-js"><code><span class="token keyword">let</span> value <span class="token operator">=</span> <span class="token string">'25'</span>

<span class="token keyword">let</span> number <span class="token operator">=</span> <span class="token function">Number</span><span class="token punctuation">(</span>value<span class="token punctuation">)</span> <span class="token comment">// 转型函数</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token keyword">typeof</span> number<span class="token punctuation">)</span> <span class="token comment">// &quot;number&quot;</span>

<span class="token keyword">let</span> obj <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Number</span><span class="token punctuation">(</span>value<span class="token punctuation">)</span> <span class="token comment">// 构造函数</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token keyword">typeof</span> obj<span class="token punctuation">)</span> <span class="token comment">// &quot;object&quot;</span>
</code></pre></div><p>在这个例子中，变量 number 中保存的是一个值为 25 的原始数值，而变量 obj 中保存的是一个 Number 的实例。</p> <p>虽然不推荐显式创建原始值包装类型的实例，但它们对于操作原始值的功能是很重要的。每个原始值包装类型都有相应的一套方法来方便数据操作。</p> <h3 id="_5-3-1-boolean"><a href="#_5-3-1-boolean" class="header-anchor">#</a> 5.3.1 Boolean</h3> <p>建议永远不要使用</p> <p>Boolean 是对应布尔值的引用类型。要创建一个 Boolean 对象，就使用 Boolean 构造函数并传入 true 或 false，如下例所示：</p> <div class="language-js extra-class"><pre class="language-js"><code><span class="token keyword">let</span> booleanObject <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Boolean</span><span class="token punctuation">(</span><span class="token boolean">true</span><span class="token punctuation">)</span>
</code></pre></div><hr> <p>Boolean 的实例会重写 valueOf()方法，返回一个原始值 true 或 false。toString()方法被调
用时也会被覆盖，返回字符串&quot;true&quot;或&quot;false&quot;。不过，Boolean 对象在 ECMAScript 中用得很少。
不仅如此，它们还容易引起误会，尤其是在布尔表达式中使用 Boolean 对象时，比如：</p> <div class="language-js extra-class"><pre class="language-js"><code><span class="token keyword">let</span> falseObject <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Boolean</span><span class="token punctuation">(</span><span class="token boolean">false</span><span class="token punctuation">)</span>
<span class="token keyword">let</span> result <span class="token operator">=</span> falseObject <span class="token operator">&amp;&amp;</span> <span class="token boolean">true</span> <span class="token comment">// falseObject 是对象，所以返回 true</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>result<span class="token punctuation">)</span> <span class="token comment">// true</span>

<span class="token keyword">let</span> falseValue <span class="token operator">=</span> <span class="token boolean">false</span>
result <span class="token operator">=</span> falseValue <span class="token operator">&amp;&amp;</span> <span class="token boolean">true</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>result<span class="token punctuation">)</span> <span class="token comment">// false</span>
</code></pre></div><p>原始值和引用值（Boolean 对象）还有几个区别：</p> <ol><li>typeof 操作符对原始值返回 &quot;boolean&quot;，但对引用值返回&quot;object&quot;</li> <li>Boolean 对象是 Boolean 类型的实例，在使用 instaceof 操作符时返回 true，但对原始值则返回 false</li></ol> <div class="language-js extra-class"><pre class="language-js"><code>console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token keyword">typeof</span> falseObject<span class="token punctuation">)</span> <span class="token comment">// object</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token keyword">typeof</span> falseValue<span class="token punctuation">)</span> <span class="token comment">// boolean</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>falseObject <span class="token keyword">instanceof</span> <span class="token class-name">Boolean</span><span class="token punctuation">)</span> <span class="token comment">// true</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>falseValue <span class="token keyword">instanceof</span> <span class="token class-name">Boolean</span><span class="token punctuation">)</span> <span class="token comment">// false</span>
</code></pre></div><p>理解原始布尔值和 Boolean 对象之间的区别非常重要，强烈建议永远不要使用后者。</p> <h3 id="_5-3-2-number"><a href="#_5-3-2-number" class="header-anchor">#</a> 5.3.2 Number</h3> <p>Number 是对应数值的引用类型。要创建一个 Number 对象，就使用 Number 构造函数并传入一个
数值，如下例所示：</p> <div class="language-js extra-class"><pre class="language-js"><code><span class="token keyword">let</span> numberObject <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Number</span><span class="token punctuation">(</span><span class="token number">10</span><span class="token punctuation">)</span>
</code></pre></div><p>Number 类型还提供了几个用于将数值格式化为字符串的方法</p> <p>toFixed()方法可以表示有 0~20 个小数位的数值。某些浏览器可能支持更大的范围，但这是通常被支持的范围。</p> <div class="language-js extra-class"><pre class="language-js"><code><span class="token keyword">let</span> num <span class="token operator">=</span> <span class="token number">10</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>num<span class="token punctuation">.</span><span class="token function">toFixed</span><span class="token punctuation">(</span><span class="token number">2</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token comment">// &quot;10.00&quot;</span>

<span class="token comment">// 如果数值本身的小数位超过了参数指定的位数，则四舍五入到最接近的小数位</span>
<span class="token keyword">let</span> num <span class="token operator">=</span> <span class="token number">10.005</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>num<span class="token punctuation">.</span><span class="token function">toFixed</span><span class="token punctuation">(</span><span class="token number">2</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token comment">// &quot;10.01&quot;</span>

<span class="token comment">// 不过要注意的是，多个浮点数值的数学计算不一定得到精确的结果</span>
<span class="token number">0.1</span> <span class="token operator">+</span> <span class="token number">0.2</span> <span class="token operator">=</span> <span class="token number">0.30000000000000004</span>
</code></pre></div><hr> <p>原始值和引用值（Number 对象）还有几个区别：</p> <ol><li>typeof 操作符对原始值返回 &quot;number&quot;，但对引用值返回&quot;object&quot;</li> <li>Number 对象是 Number 类型的实例，在使用 instaceof 操作符时返回 true，但对原始值则返回 false</li></ol> <div class="language-js extra-class"><pre class="language-js"><code><span class="token keyword">let</span> numberObject <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Number</span><span class="token punctuation">(</span><span class="token number">10</span><span class="token punctuation">)</span>
<span class="token keyword">let</span> numberValue <span class="token operator">=</span> <span class="token number">10</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token keyword">typeof</span> numberObject<span class="token punctuation">)</span> <span class="token comment">// &quot;object&quot;</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token keyword">typeof</span> numberValue<span class="token punctuation">)</span> <span class="token comment">// &quot;number&quot;</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>numberObject <span class="token keyword">instanceof</span> <span class="token class-name">Number</span><span class="token punctuation">)</span> <span class="token comment">// true</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>numberValue <span class="token keyword">instanceof</span> <span class="token class-name">Number</span><span class="token punctuation">)</span> <span class="token comment">// false</span>
</code></pre></div><hr> <p>isInteger()方法与安全整数</p> <p>ES6 新增了 Number.isInteger()方法，用于辨别一个数值是否保存为整数。有时候，小数位的 0
可能会让人误以为数值是一个浮点值：</p> <div class="language-js extra-class"><pre class="language-js"><code>console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>Number<span class="token punctuation">.</span><span class="token function">isInteger</span><span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token comment">// true</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>Number<span class="token punctuation">.</span><span class="token function">isInteger</span><span class="token punctuation">(</span><span class="token number">1.0</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token comment">// true</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>Number<span class="token punctuation">.</span><span class="token function">isInteger</span><span class="token punctuation">(</span><span class="token number">1.01</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token comment">// false</span>
</code></pre></div><h3 id="_5-3-3-string"><a href="#_5-3-3-string" class="header-anchor">#</a> 5.3.3 String</h3> <p>String 是对应字符串的引用类型。要创建一个 String 对象，使用 String 构造函数并传入一个
数值，如下例所示：</p> <div class="language-js extra-class"><pre class="language-js"><code><span class="token keyword">let</span> stringObject <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">String</span><span class="token punctuation">(</span><span class="token string">'hello world'</span><span class="token punctuation">)</span>
</code></pre></div><hr> <h4 id="_1-javascript-字符"><a href="#_1-javascript-字符" class="header-anchor">#</a> 1. JavaScript 字符</h4> <p>charAt()方法返回给定索引位置的字符</p> <div class="language-js extra-class"><pre class="language-js"><code><span class="token keyword">let</span> message <span class="token operator">=</span> <span class="token string">'abcde'</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>message<span class="token punctuation">.</span><span class="token function">charAt</span><span class="token punctuation">(</span><span class="token number">2</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token comment">// &quot;c&quot;</span>
</code></pre></div><h4 id="_3-字符串操作方法"><a href="#_3-字符串操作方法" class="header-anchor">#</a> 3. 字符串操作方法</h4> <ul><li>concat() 用于将一个或多个字符串拼接成一个新字符串。（多数情况下，对于拼接多个字符串来说，使用加号更方便）</li></ul> <div class="language-js extra-class"><pre class="language-js"><code><span class="token keyword">let</span> stringValue <span class="token operator">=</span> <span class="token string">'hello '</span>
<span class="token keyword">let</span> result <span class="token operator">=</span> stringValue<span class="token punctuation">.</span><span class="token function">concat</span><span class="token punctuation">(</span><span class="token string">'world'</span><span class="token punctuation">)</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>result<span class="token punctuation">)</span> <span class="token comment">// &quot;hello world&quot;</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>stringValue<span class="token punctuation">)</span> <span class="token comment">// &quot;hello&quot;</span>

<span class="token comment">// 拼接多个字符串</span>
<span class="token keyword">let</span> stringValue <span class="token operator">=</span> <span class="token string">'hello '</span>
<span class="token keyword">let</span> result <span class="token operator">=</span> stringValue<span class="token punctuation">.</span><span class="token function">concat</span><span class="token punctuation">(</span><span class="token string">'world'</span><span class="token punctuation">,</span> <span class="token string">'!'</span><span class="token punctuation">)</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>result<span class="token punctuation">)</span> <span class="token comment">// &quot;hello world!&quot;</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>stringValue<span class="token punctuation">)</span> <span class="token comment">// &quot;hello&quot;</span>
</code></pre></div><hr> <p>3 个从字符串中提取子字符串的方法：</p> <ul><li>slice()
<ul><li>第一个参数表示子字符串开始的位置，第二个参数表示子字符串结束的位置（即该位置之前的字符会被提取出来）</li> <li>负值时，将所有负值参数都当成字符串长度加上负参数值</li></ul></li> <li>substr()
<ul><li>第一个参数表示子字符串开始的位置，第二个参数表示返回的子字符串数量</li> <li>负值时,将第一个负参数值当成字符串长度加上该值，将第二个负参数值转换为 0</li></ul></li> <li>substring()
<ul><li>第一个参数表示子字符串开始的位置，第二个参数表示子字符串结束的位置（即该位置之前的字符会被提取出来）</li> <li>负值时, 会将所有负参数值都转换为 0</li></ul></li></ul> <p>省略第二个参数都意味着提取到字符串末尾</p> <div class="language-js extra-class"><pre class="language-js"><code><span class="token comment">// 正值案例</span>
<span class="token keyword">let</span> stringValue <span class="token operator">=</span> <span class="token string">'hello world'</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>stringValue<span class="token punctuation">.</span><span class="token function">slice</span><span class="token punctuation">(</span><span class="token number">3</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token comment">// &quot;lo world&quot;</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>stringValue<span class="token punctuation">.</span><span class="token function">substring</span><span class="token punctuation">(</span><span class="token number">3</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token comment">// &quot;lo world&quot;</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>stringValue<span class="token punctuation">.</span><span class="token function">substr</span><span class="token punctuation">(</span><span class="token number">3</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token comment">// &quot;lo world&quot;</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>stringValue<span class="token punctuation">.</span><span class="token function">slice</span><span class="token punctuation">(</span><span class="token number">3</span><span class="token punctuation">,</span> <span class="token number">7</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token comment">// &quot;lo w&quot;</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>stringValue<span class="token punctuation">.</span><span class="token function">substring</span><span class="token punctuation">(</span><span class="token number">3</span><span class="token punctuation">,</span> <span class="token number">7</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token comment">// &quot;lo w&quot;</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>stringValue<span class="token punctuation">.</span><span class="token function">substr</span><span class="token punctuation">(</span><span class="token number">3</span><span class="token punctuation">,</span> <span class="token number">7</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token comment">// &quot;lo worl&quot;</span>

<span class="token comment">// 负值案例</span>
<span class="token keyword">let</span> stringValue <span class="token operator">=</span> <span class="token string">'hello world'</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>stringValue<span class="token punctuation">.</span><span class="token function">slice</span><span class="token punctuation">(</span><span class="token operator">-</span><span class="token number">3</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token comment">// &quot;rld&quot;</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>stringValue<span class="token punctuation">.</span><span class="token function">substring</span><span class="token punctuation">(</span><span class="token operator">-</span><span class="token number">3</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token comment">// &quot;hello world&quot;</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>stringValue<span class="token punctuation">.</span><span class="token function">substr</span><span class="token punctuation">(</span><span class="token operator">-</span><span class="token number">3</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token comment">// &quot;rld&quot;</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>stringValue<span class="token punctuation">.</span><span class="token function">slice</span><span class="token punctuation">(</span><span class="token number">3</span><span class="token punctuation">,</span> <span class="token operator">-</span><span class="token number">4</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token comment">// &quot;lo w&quot;</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>stringValue<span class="token punctuation">.</span><span class="token function">substring</span><span class="token punctuation">(</span><span class="token number">3</span><span class="token punctuation">,</span> <span class="token operator">-</span><span class="token number">4</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token comment">// &quot;hel&quot;</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>stringValue<span class="token punctuation">.</span><span class="token function">substr</span><span class="token punctuation">(</span><span class="token number">3</span><span class="token punctuation">,</span> <span class="token operator">-</span><span class="token number">4</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token comment">// &quot;&quot; (empty string)</span>
</code></pre></div><h4 id="_4-字符串位置方法"><a href="#_4-字符串位置方法" class="header-anchor">#</a> 4. 字符串位置方法</h4> <p>有两个方法用于在字符串中定位子字符串：<br>
从字符串中搜索传入的字符串，并返回位置（如果没找到，则返回-1）。</p> <ul><li>indexOf()
<ul><li>可以接收可选的第二个参数，表示开始搜索的位置。会从这个参数指定的位置开始向字符串末尾搜索，忽略该位置之前的字符；</li></ul></li> <li>lastIndexOf()
<ul><li>可以接收可选的第二个参数，表示开始搜索的位置。会从这个参数指定的位置开始向字符串开头搜索，忽略该位置之后直到字符串末尾的字符。</li></ul></li></ul> <div class="language-js extra-class"><pre class="language-js"><code><span class="token keyword">let</span> stringValue <span class="token operator">=</span> <span class="token string">'hello world'</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>stringValue<span class="token punctuation">.</span><span class="token function">indexOf</span><span class="token punctuation">(</span><span class="token string">'o'</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token comment">// 4</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>stringValue<span class="token punctuation">.</span><span class="token function">lastIndexOf</span><span class="token punctuation">(</span><span class="token string">'o'</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token comment">// 7</span>

<span class="token comment">// 包含第二个参数</span>
<span class="token keyword">let</span> stringValue <span class="token operator">=</span> <span class="token string">'hello world'</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>stringValue<span class="token punctuation">.</span><span class="token function">indexOf</span><span class="token punctuation">(</span><span class="token string">'o'</span><span class="token punctuation">,</span> <span class="token number">6</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token comment">// 7</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>stringValue<span class="token punctuation">.</span><span class="token function">lastIndexOf</span><span class="token punctuation">(</span><span class="token string">'o'</span><span class="token punctuation">,</span> <span class="token number">6</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token comment">// 4</span>

<span class="token comment">// 在字符串中找到所有的目标子字符串</span>
<span class="token keyword">let</span> stringValue <span class="token operator">=</span> <span class="token string">'Lorem ipsum dolor sit amet, consectetur adipisicing elit'</span>
<span class="token keyword">let</span> positions <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Array</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
<span class="token keyword">let</span> pos <span class="token operator">=</span> stringValue<span class="token punctuation">.</span><span class="token function">indexOf</span><span class="token punctuation">(</span><span class="token string">'e'</span><span class="token punctuation">)</span>
<span class="token keyword">while</span> <span class="token punctuation">(</span>pos <span class="token operator">&gt;</span> <span class="token operator">-</span><span class="token number">1</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  positions<span class="token punctuation">.</span><span class="token function">push</span><span class="token punctuation">(</span>pos<span class="token punctuation">)</span>
  pos <span class="token operator">=</span> stringValue<span class="token punctuation">.</span><span class="token function">indexOf</span><span class="token punctuation">(</span><span class="token string">'e'</span><span class="token punctuation">,</span> pos <span class="token operator">+</span> <span class="token number">1</span><span class="token punctuation">)</span>
<span class="token punctuation">}</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>positions<span class="token punctuation">)</span> <span class="token comment">// [3,24,32,35,52]</span>
<span class="token comment">// 这个例子逐步增大开始搜索的位置，通过 indexOf()遍历了整个字符串。首先取得第一个&quot;e&quot;的位置，然后进入循环，将上一次的位置加 1 再传给 indexOf()，确保搜索到最后一个子字符串实例之后。每个位置都保存在 positions 数组中，可供以后使用。</span>
</code></pre></div><h3 id="_5-字符串包含方法"><a href="#_5-字符串包含方法" class="header-anchor">#</a> 5. 字符串包含方法</h3> <p>ECMAScript 6 增加了 3 个用于判断字符串中是否包含另一个字符串的方法：</p> <p>startsWith()和 includes()方法接收可选的第二个参数，表示开始搜索的位置。<br>
endsWith()方法接收可选的第二个参数，表示应该当作字符串末尾的位置。如果不提供这个参数，那么默认就是字符串长度。如果提供这个参数，那么就好像字符串只有那么多字符一样</p> <ul><li>startsWith()
<ul><li>检查开始于索引 0 的匹配项</li></ul></li> <li>endsWith()
<ul><li>检查开始于索引(string.length - substring.length)的匹配项</li></ul></li> <li>includes()
<ul><li>检查整个字符串</li></ul></li></ul> <div class="language-js extra-class"><pre class="language-js"><code><span class="token comment">// 基本使用例子</span>
<span class="token keyword">let</span> message <span class="token operator">=</span> <span class="token string">'foobarbaz'</span>

console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>message<span class="token punctuation">.</span><span class="token function">startsWith</span><span class="token punctuation">(</span><span class="token string">'foo'</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token comment">// true</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>message<span class="token punctuation">.</span><span class="token function">startsWith</span><span class="token punctuation">(</span><span class="token string">'bar'</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token comment">// false</span>

console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>message<span class="token punctuation">.</span><span class="token function">endsWith</span><span class="token punctuation">(</span><span class="token string">'baz'</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token comment">// true</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>message<span class="token punctuation">.</span><span class="token function">endsWith</span><span class="token punctuation">(</span><span class="token string">'bar'</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token comment">// false</span>

console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>message<span class="token punctuation">.</span><span class="token function">includes</span><span class="token punctuation">(</span><span class="token string">'bar'</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token comment">// true</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>message<span class="token punctuation">.</span><span class="token function">includes</span><span class="token punctuation">(</span><span class="token string">'qux'</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token comment">// false</span>

<span class="token comment">// 包含第二个参数例子</span>
<span class="token keyword">let</span> message <span class="token operator">=</span> <span class="token string">'foobarbaz'</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>message<span class="token punctuation">.</span><span class="token function">startsWith</span><span class="token punctuation">(</span><span class="token string">'foo'</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token comment">// true</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>message<span class="token punctuation">.</span><span class="token function">startsWith</span><span class="token punctuation">(</span><span class="token string">'foo'</span><span class="token punctuation">,</span> <span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token comment">// false</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>message<span class="token punctuation">.</span><span class="token function">includes</span><span class="token punctuation">(</span><span class="token string">'bar'</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token comment">// true</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>message<span class="token punctuation">.</span><span class="token function">includes</span><span class="token punctuation">(</span><span class="token string">'bar'</span><span class="token punctuation">,</span> <span class="token number">4</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token comment">// false</span>

<span class="token comment">// endsWith()</span>
<span class="token keyword">let</span> message <span class="token operator">=</span> <span class="token string">'foobarbaz'</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>message<span class="token punctuation">.</span><span class="token function">endsWith</span><span class="token punctuation">(</span><span class="token string">'bar'</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token comment">// false</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>message<span class="token punctuation">.</span><span class="token function">endsWith</span><span class="token punctuation">(</span><span class="token string">'bar'</span><span class="token punctuation">,</span> <span class="token number">6</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token comment">// true</span>
</code></pre></div><h4 id="_6-trim-方法"><a href="#_6-trim-方法" class="header-anchor">#</a> 6. trim()方法</h4> <p>trimLeft()和 trimRight()方法分别用于从字符串开始和末尾清理空格符。<br>
会创建字符串的一个副本，删除前、后所有空格符，再返回结果。(<strong>不会改变原字符串</strong>)比如：</p> <div class="language-js extra-class"><pre class="language-js"><code><span class="token keyword">let</span> stringValue <span class="token operator">=</span> <span class="token string">' hello world '</span>
<span class="token keyword">let</span> trimmedStringValue <span class="token operator">=</span> stringValue<span class="token punctuation">.</span><span class="token function">trim</span><span class="token punctuation">(</span><span class="token punctuation">)</span>

console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>stringValue<span class="token punctuation">)</span> <span class="token comment">// &quot; hello world &quot;</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>trimmedStringValue<span class="token punctuation">)</span> <span class="token comment">// &quot;hello world&quot;</span>
</code></pre></div><h4 id="_7-repeat-方法"><a href="#_7-repeat-方法" class="header-anchor">#</a> 7. repeat()方法</h4> <p>接收一个整数参数，表示要将字符串复制多少次，然后返回拼接所有副本后的结果。</p> <div class="language-js extra-class"><pre class="language-js"><code><span class="token keyword">let</span> stringValue <span class="token operator">=</span> <span class="token string">'na '</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>stringValue<span class="token punctuation">.</span><span class="token function">repeat</span><span class="token punctuation">(</span><span class="token number">16</span><span class="token punctuation">)</span> <span class="token operator">+</span> <span class="token string">'batman'</span><span class="token punctuation">)</span>
<span class="token comment">// na na na na na na na na na na na na na na na na batman</span>
</code></pre></div><h4 id="_8-padstart-和-padend-方法"><a href="#_8-padstart-和-padend-方法" class="header-anchor">#</a> 8. padStart()和 padEnd()方法</h4> <p>复制字符串，如果小于指定长度，则在相应一边填充字符，直至满足长度条件。<br>
第一个参数是长度，第二个参数是可选的填充字符串，默认为空格。</p> <div class="language-js extra-class"><pre class="language-js"><code><span class="token keyword">let</span> stringValue <span class="token operator">=</span> <span class="token string">'foo'</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>stringValue<span class="token punctuation">.</span><span class="token function">padStart</span><span class="token punctuation">(</span><span class="token number">6</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token comment">// &quot; foo&quot;</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>stringValue<span class="token punctuation">.</span><span class="token function">padStart</span><span class="token punctuation">(</span><span class="token number">9</span><span class="token punctuation">,</span> <span class="token string">'.'</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token comment">// &quot;......foo&quot;</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>stringValue<span class="token punctuation">.</span><span class="token function">padEnd</span><span class="token punctuation">(</span><span class="token number">6</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token comment">// &quot;foo &quot;</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>stringValue<span class="token punctuation">.</span><span class="token function">padEnd</span><span class="token punctuation">(</span><span class="token number">9</span><span class="token punctuation">,</span> <span class="token string">'.'</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token comment">// &quot;foo......&quot;</span>

<span class="token comment">// 多个字符的字符串，则会将其拼接并截断以匹配指定长度</span>
<span class="token keyword">let</span> stringValue <span class="token operator">=</span> <span class="token string">'foo'</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>stringValue<span class="token punctuation">.</span><span class="token function">padStart</span><span class="token punctuation">(</span><span class="token number">8</span><span class="token punctuation">,</span> <span class="token string">'bar'</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token comment">// &quot;barbafoo&quot;</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>stringValue<span class="token punctuation">.</span><span class="token function">padStart</span><span class="token punctuation">(</span><span class="token number">2</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token comment">// &quot;foo&quot;</span>

<span class="token comment">// 长度小于或等于字符串长度，则会返回原始字符串</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>stringValue<span class="token punctuation">.</span><span class="token function">padEnd</span><span class="token punctuation">(</span><span class="token number">8</span><span class="token punctuation">,</span> <span class="token string">'bar'</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token comment">// &quot;foobarba&quot;</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>stringValue<span class="token punctuation">.</span><span class="token function">padEnd</span><span class="token punctuation">(</span><span class="token number">2</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token comment">// &quot;foo&quot;</span>
</code></pre></div><h4 id="_9-字符串迭代与解构"><a href="#_9-字符串迭代与解构" class="header-anchor">#</a> 9. 字符串迭代与解构</h4> <p>字符串的原型上暴露了一个@@iterator 方法，表示可以迭代字符串的每个字符。可以像下面这样手动使用迭代器：</p> <div class="language-js extra-class"><pre class="language-js"><code><span class="token keyword">let</span> message <span class="token operator">=</span> <span class="token string">'abc'</span>
<span class="token keyword">let</span> stringIterator <span class="token operator">=</span> message<span class="token punctuation">[</span>Symbol<span class="token punctuation">.</span>iterator<span class="token punctuation">]</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>stringIterator<span class="token punctuation">.</span><span class="token function">next</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token comment">// {value: &quot;a&quot;, done: false}</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>stringIterator<span class="token punctuation">.</span><span class="token function">next</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token comment">// {value: &quot;b&quot;, done: false}</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>stringIterator<span class="token punctuation">.</span><span class="token function">next</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token comment">// {value: &quot;c&quot;, done: false}</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>stringIterator<span class="token punctuation">.</span><span class="token function">next</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token comment">// {value: undefined, done: true}</span>
</code></pre></div><p>在 for-of 循环中可以通过这个迭代器按序访问每个字符：</p> <div class="language-js extra-class"><pre class="language-js"><code><span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">const</span> c <span class="token keyword">of</span> <span class="token string">'abcde'</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>c<span class="token punctuation">)</span>
<span class="token punctuation">}</span>

<span class="token comment">// a</span>
<span class="token comment">// b</span>
<span class="token comment">// c</span>
<span class="token comment">// d</span>
<span class="token comment">// e</span>
</code></pre></div><p>有了这个迭代器之后，字符串就可以通过解构操作符来解构了。比如，可以更方便地把字符串分割
为字符数组：</p> <div class="language-js extra-class"><pre class="language-js"><code><span class="token keyword">let</span> message <span class="token operator">=</span> <span class="token string">'abcde'</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token punctuation">[</span><span class="token operator">...</span>message<span class="token punctuation">]</span><span class="token punctuation">)</span> <span class="token comment">// [&quot;a&quot;, &quot;b&quot;, &quot;c&quot;, &quot;d&quot;, &quot;e&quot;]</span>
</code></pre></div><h4 id="_10-字符串大小写转换"><a href="#_10-字符串大小写转换" class="header-anchor">#</a> 10. 字符串大小写转换</h4> <p><strong>如果不知道代码涉及什么语言，则最好使用地区特定的转换方法。</strong></p> <p>toLocaleLowerCase()和 toLocaleUpperCase()方法旨在基于特定地区实现。在很多地区，地区特定的方法与通用的方法是一样的。但在少数语言中（如土耳其语），Unicode 大小写转换需应用特殊规则，要使用地区特定的方法才能实现正确转换。</p> <ul><li>toLowerCase()</li> <li>toLocaleLowerCase()</li> <li>toUpperCase()</li> <li>toLocaleUpperCase()</li></ul> <div class="language-js extra-class"><pre class="language-js"><code><span class="token keyword">let</span> stringValue <span class="token operator">=</span> <span class="token string">'hello world'</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>stringValue<span class="token punctuation">.</span><span class="token function">toLocaleUpperCase</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token comment">// &quot;HELLO WORLD&quot;</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>stringValue<span class="token punctuation">.</span><span class="token function">toUpperCase</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token comment">// &quot;HELLO WORLD&quot;</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>stringValue<span class="token punctuation">.</span><span class="token function">toLocaleLowerCase</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token comment">// &quot;hello world&quot;</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>stringValue<span class="token punctuation">.</span><span class="token function">toLowerCase</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token comment">// &quot;hello world&quot;</span>
</code></pre></div><h4 id="_11-字符串模式匹配方法"><a href="#_11-字符串模式匹配方法" class="header-anchor">#</a> 11. 字符串模式匹配方法</h4> <p>String 类型专门为在字符串中实现模式匹配设计了几个方法。</p> <hr> <p>第一个就是 match()方法，这个方法本质上跟 RegExp 对象的 exec()方法相同。match()方法接收一个参数，可以是一个正则表达式字符串，也可以是一个 RegExp 对象。来看下面的例子：</p> <div class="language-js extra-class"><pre class="language-js"><code><span class="token keyword">let</span> text <span class="token operator">=</span> <span class="token string">'cat, bat, sat, fat'</span>
<span class="token keyword">let</span> pattern <span class="token operator">=</span> <span class="token regex"><span class="token regex-delimiter">/</span><span class="token regex-source language-regex">.at</span><span class="token regex-delimiter">/</span></span>

<span class="token comment">// 等价于 pattern.exec(text)</span>
<span class="token keyword">let</span> matches <span class="token operator">=</span> text<span class="token punctuation">.</span><span class="token function">match</span><span class="token punctuation">(</span>pattern<span class="token punctuation">)</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>matches<span class="token punctuation">.</span>index<span class="token punctuation">)</span> <span class="token comment">// 0</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>matches<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token punctuation">)</span> <span class="token comment">// &quot;cat&quot;</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>pattern<span class="token punctuation">.</span>lastIndex<span class="token punctuation">)</span> <span class="token comment">// 0</span>
</code></pre></div><p>match()方法返回的数组与 RegExp 对象的 exec()方法返回的数组是一样的：第一个元素是与整个模式匹配的字符串，其余元素则是与表达式中的捕获组匹配的字符串（如果有的话）。</p> <hr> <p>另一个查找模式的字符串方法是 search()。这个方法唯一的参数与 match()方法一样：正则表达式字符串或 RegExp 对象。这个方法返回模式第一个匹配的位置索引，如果没找到则返回 -1。search()始终从字符串开头向后匹配模式。看下面的例子：</p> <div class="language-js extra-class"><pre class="language-js"><code><span class="token keyword">let</span> text <span class="token operator">=</span> <span class="token string">'cat, bat, sat, fat'</span>

<span class="token keyword">let</span> pos <span class="token operator">=</span> text<span class="token punctuation">.</span><span class="token function">search</span><span class="token punctuation">(</span><span class="token regex"><span class="token regex-delimiter">/</span><span class="token regex-source language-regex">at</span><span class="token regex-delimiter">/</span></span><span class="token punctuation">)</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>pos<span class="token punctuation">)</span> <span class="token comment">// 1</span>
</code></pre></div><p>这里，search(/at/)返回 1，即&quot;at&quot;的第一个字符在字符串中的位置。</p> <hr> <p>为简化子字符串替换操作，ECMAScript 提供了 replace()方法。</p> <p>这个方法接收两个参数</p> <ul><li>第一个参数可以是一个 RegExp 对象或一个字符串（这个字符串不会转换为正则表达式）</li> <li>第二个参数可以是一个字符串或一个函数。</li></ul> <p>要想替换所有子字符串，第一个参数必须为正则表达式并且带全局标记，如下面的例子所示：</p> <div class="language-js extra-class"><pre class="language-js"><code><span class="token keyword">let</span> text <span class="token operator">=</span> <span class="token string">'cat, bat, sat, fat'</span>
<span class="token keyword">let</span> result <span class="token operator">=</span> text<span class="token punctuation">.</span><span class="token function">replace</span><span class="token punctuation">(</span><span class="token string">'at'</span><span class="token punctuation">,</span> <span class="token string">'ond'</span><span class="token punctuation">)</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>result<span class="token punctuation">)</span> <span class="token comment">// &quot;cond, bat, sat, fat&quot;</span>

result <span class="token operator">=</span> text<span class="token punctuation">.</span><span class="token function">replace</span><span class="token punctuation">(</span><span class="token regex"><span class="token regex-delimiter">/</span><span class="token regex-source language-regex">at</span><span class="token regex-delimiter">/</span><span class="token regex-flags">g</span></span><span class="token punctuation">,</span> <span class="token string">'ond'</span><span class="token punctuation">)</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>result<span class="token punctuation">)</span> <span class="token comment">// &quot;cond, bond, sond, fond&quot;</span>
</code></pre></div><p>replace()的第二个参数可以是一个函数。在只有一个匹配项时，这个函数会收到 3 个参数：</p> <ul><li>与整个模式匹配的字符串</li> <li>匹配项在字符串中的开始位置</li> <li>以及整个字符串</li></ul> <p>在有多个捕获组的情况下，每个匹配捕获组的字符串也会作为参数传给这个函数，但最后两个参数还是与整个模式匹配的开始位置和原始字符串。这个函数应该返回一个字符串，表示应该把匹配项替换成什么。使用函数作为第二个参数可以更细致地控制替换过程，如下所示：</p> <div class="language-js extra-class"><pre class="language-js"><code><span class="token keyword">function</span> <span class="token function">htmlEscape</span><span class="token punctuation">(</span><span class="token parameter">text</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token keyword">return</span> text<span class="token punctuation">.</span><span class="token function">replace</span><span class="token punctuation">(</span><span class="token regex"><span class="token regex-delimiter">/</span><span class="token regex-source language-regex">[&lt;&gt;&quot;&amp;]</span><span class="token regex-delimiter">/</span><span class="token regex-flags">g</span></span><span class="token punctuation">,</span> <span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token parameter">match<span class="token punctuation">,</span> pos<span class="token punctuation">,</span> originalText</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">switch</span> <span class="token punctuation">(</span>match<span class="token punctuation">)</span> <span class="token punctuation">{</span>
      <span class="token keyword">case</span> <span class="token string">'&lt;'</span><span class="token operator">:</span>
        <span class="token keyword">return</span> <span class="token string">'&amp;lt;'</span>
      <span class="token keyword">case</span> <span class="token string">'&gt;'</span><span class="token operator">:</span>
        <span class="token keyword">return</span> <span class="token string">'&amp;gt;'</span>
      <span class="token keyword">case</span> <span class="token string">'&amp;'</span><span class="token operator">:</span>
        <span class="token keyword">return</span> <span class="token string">'&amp;amp;'</span>
      <span class="token keyword">case</span> <span class="token string">'&quot;'</span><span class="token operator">:</span>
        <span class="token keyword">return</span> <span class="token string">'&amp;quot;'</span>
    <span class="token punctuation">}</span>
  <span class="token punctuation">}</span><span class="token punctuation">)</span>
<span class="token punctuation">}</span>

console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token function">htmlEscape</span><span class="token punctuation">(</span><span class="token string">'&lt;p class=&quot;greeting&quot;&gt;Hello world!&lt;/p&gt;'</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
<span class="token comment">// &quot;&amp;lt;p class=&amp;quot;greeting&amp;quot;&amp;gt;Hello world!&lt;/p&gt;&quot;</span>

<span class="token comment">// 这里，函数 htmlEscape()用于将一段 HTML 中的 4 个字符替换成对应的实体：小于号、大于号、和号，还有双引号（都必须经过转义）。实现这个任务最简单的办法就是用一个正则表达式查找这些字符，然后定义一个函数，根据匹配的每个字符分别返回特定的 HTML 实体。</span>
</code></pre></div><hr> <p>split(),会根据传入的分隔符将字符串拆分成数组。作为分隔符的参数可以是字符串，也可以是 RegExp 对象。（字符串分隔符不会被这个方法当成正则表达式。）还可以传入第二个参数，即数组大小，确保返回的数组不会超过指定大小。来看下面的例子：</p> <div class="language-js extra-class"><pre class="language-js"><code><span class="token keyword">let</span> colorText <span class="token operator">=</span> <span class="token string">'red,blue,green,yellow'</span>
<span class="token keyword">let</span> colors1 <span class="token operator">=</span> colorText<span class="token punctuation">.</span><span class="token function">split</span><span class="token punctuation">(</span><span class="token string">','</span><span class="token punctuation">)</span> <span class="token comment">// [&quot;red&quot;, &quot;blue&quot;, &quot;green&quot;, &quot;yellow&quot;]</span>
<span class="token keyword">let</span> colors2 <span class="token operator">=</span> colorText<span class="token punctuation">.</span><span class="token function">split</span><span class="token punctuation">(</span><span class="token string">','</span><span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">)</span> <span class="token comment">// [&quot;red&quot;, &quot;blue&quot;]</span>
<span class="token keyword">let</span> colors3 <span class="token operator">=</span> colorText<span class="token punctuation">.</span><span class="token function">split</span><span class="token punctuation">(</span><span class="token regex"><span class="token regex-delimiter">/</span><span class="token regex-source language-regex">[^,]+</span><span class="token regex-delimiter">/</span></span><span class="token punctuation">)</span> <span class="token comment">// [&quot;&quot;, &quot;,&quot;, &quot;,&quot;, &quot;,&quot;, &quot;&quot;]</span>
<span class="token comment">// 使用正则表达式可以得到一个包含逗号的数组。注意在最后一次调用 split()时，返回的数组前后包含两个空字符串。这是因为正则表达式指定的分隔符出现在了字符串开头（&quot;red&quot;）和末尾（&quot;yellow&quot;）</span>
</code></pre></div><h4 id="_12-localecompare-方法-比较冷门"><a href="#_12-localecompare-方法-比较冷门" class="header-anchor">#</a> 12. localeCompare()方法 - 比较冷门</h4> <p>这个方法比较两个字符串，返回如下 3 个值中的一个。</p> <ul><li>如果按照字母表顺序，字符串应该排在字符串参数前头，则返回负值。（通常是-1，具体还要看与实际值相关的实现。）</li> <li>如果字符串与字符串参数相等，则返回 0。</li> <li>如果按照字母表顺序，字符串应该排在字符串参数后头，则返回正值。（通常是 1，具体还要看与实际值相关的实现。）</li></ul> <p>下面是一个例子：</p> <div class="language-js extra-class"><pre class="language-js"><code><span class="token keyword">let</span> stringValue <span class="token operator">=</span> <span class="token string">'yellow'</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>stringValue<span class="token punctuation">.</span><span class="token function">localeCompare</span><span class="token punctuation">(</span><span class="token string">'brick'</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token comment">// 1</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>stringValue<span class="token punctuation">.</span><span class="token function">localeCompare</span><span class="token punctuation">(</span><span class="token string">'yellow'</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token comment">// 0</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>stringValue<span class="token punctuation">.</span><span class="token function">localeCompare</span><span class="token punctuation">(</span><span class="token string">'zoo'</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token comment">// -1</span>
</code></pre></div><p>在这里，字符串&quot;yellow&quot;与 3 个不同的值进行了比较：&quot;brick&quot;、&quot;yellow&quot;和&quot;zoo&quot;。&quot;brick&quot;按字母表顺序应该排在&quot;yellow&quot;前头，因此 localeCompare()返回 1。&quot;yellow&quot;等于&quot;yellow&quot;，因此&quot;localeCompare()&quot;返回 0。最后，&quot;zoo&quot;在&quot;yellow&quot;后面，因此 localeCompare()返回-1。强调一下，因为返回的具体值可能因具体实现而异，所以最好像下面的示例中一样使用 localeCompare()：</p> <div class="language-js extra-class"><pre class="language-js"><code><span class="token keyword">function</span> <span class="token function">determineOrder</span><span class="token punctuation">(</span><span class="token parameter">value</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token keyword">let</span> result <span class="token operator">=</span> stringValue<span class="token punctuation">.</span><span class="token function">localeCompare</span><span class="token punctuation">(</span>value<span class="token punctuation">)</span>
  <span class="token keyword">if</span> <span class="token punctuation">(</span>result <span class="token operator">&lt;</span> <span class="token number">0</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token template-string"><span class="token template-punctuation string">`</span><span class="token string">The string 'yellow' comes before the string '</span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">${</span>value<span class="token interpolation-punctuation punctuation">}</span></span><span class="token string">'.</span><span class="token template-punctuation string">`</span></span><span class="token punctuation">)</span>
  <span class="token punctuation">}</span> <span class="token keyword">else</span> <span class="token keyword">if</span> <span class="token punctuation">(</span>result <span class="token operator">&gt;</span> <span class="token number">0</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token template-string"><span class="token template-punctuation string">`</span><span class="token string">The string 'yellow' comes after the string '</span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">${</span>value<span class="token interpolation-punctuation punctuation">}</span></span><span class="token string">'.</span><span class="token template-punctuation string">`</span></span><span class="token punctuation">)</span>
  <span class="token punctuation">}</span> <span class="token keyword">else</span> <span class="token punctuation">{</span>
    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token template-string"><span class="token template-punctuation string">`</span><span class="token string">The string 'yellow' is equal to the string '</span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">${</span>value<span class="token interpolation-punctuation punctuation">}</span></span><span class="token string">'.</span><span class="token template-punctuation string">`</span></span><span class="token punctuation">)</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
<span class="token function">determineOrder</span><span class="token punctuation">(</span><span class="token string">'brick'</span><span class="token punctuation">)</span>
<span class="token function">determineOrder</span><span class="token punctuation">(</span><span class="token string">'yellow'</span><span class="token punctuation">)</span>
<span class="token function">determineOrder</span><span class="token punctuation">(</span><span class="token string">'zoo'</span><span class="token punctuation">)</span>

<span class="token comment">// 这样一来，就可以保证在所有实现中都能正确判断字符串的顺序了。</span>
<span class="token comment">// localeCompare()的独特之处在于，实现所在的地区（国家和语言）决定了这个方法如何比较字符串。在美国，英语是 ECMAScript 实现的标准语言，localeCompare()区分大小写，大写字母排在小写字母前面。但其他地区未必是这种情况。</span>
</code></pre></div><h4 id="_13-html-方法"><a href="#_13-html-方法" class="header-anchor">#</a> 13. HTML 方法</h4> <p>早期的浏览器开发商认为使用 JavaScript 动态生成 HTML 标签是一个需求。因此，早期浏览器扩展了规范，增加了辅助生成 HTML 标签的方法。下表总结了这些 HTML 方法。不过，这些方法基本上已经没有人使用了，因为结果通常不是语义化的标记。</p> <table><thead><tr><th style="text-align:left;">方 法</th> <th style="text-align:left;">输 出</th></tr></thead> <tbody><tr><td style="text-align:left;">anchor(name)</td> <td style="text-align:left;">&lt;a name=&quot;name&quot;&gt;string&lt;/a&gt;</td></tr> <tr><td style="text-align:left;">big()</td> <td style="text-align:left;">&lt;big&gt;string&lt;/big&gt;</td></tr> <tr><td style="text-align:left;">bold()</td> <td style="text-align:left;">&lt;b&gt;string&lt;/b&gt;</td></tr> <tr><td style="text-align:left;">fixed()</td> <td style="text-align:left;">&lt;tt&gt;string&lt;/tt&gt;</td></tr> <tr><td style="text-align:left;">fontcolor(color)</td> <td style="text-align:left;">&lt;font color=&quot;color&quot;&gt;string&lt;/font&gt;</td></tr> <tr><td style="text-align:left;">fontsize(size)</td> <td style="text-align:left;">&lt;font size=&quot;size&quot;&gt;string&lt;/font&gt;</td></tr> <tr><td style="text-align:left;">italics()</td> <td style="text-align:left;">&lt;i&gt;string&lt;/i&gt;</td></tr> <tr><td style="text-align:left;">link(url)</td> <td style="text-align:left;">&lt;a href=&quot;url&quot;&gt;string&lt;/a&gt;</td></tr> <tr><td style="text-align:left;">small()</td> <td style="text-align:left;">&lt;small&gt;string&lt;/small&gt;</td></tr> <tr><td style="text-align:left;">strike()</td> <td style="text-align:left;">&lt;strike&gt;string&lt;/strike&gt;</td></tr> <tr><td style="text-align:left;">sub()</td> <td style="text-align:left;">&lt;sub&gt;string&lt;/sub&gt;</td></tr> <tr><td style="text-align:left;">sup()</td> <td style="text-align:left;">&lt;sup&gt;string&lt;/sup&gt;</td></tr></tbody></table> <h3 id="_5-4-单例内置对象"><a href="#_5-4-单例内置对象" class="header-anchor">#</a> 5.4 单例内置对象</h3> <p>ECMA-262 对内置对象的定义是“任何由 ECMAScript 实现提供、与宿主环境无关，并在 ECMAScript 程序开始执行时就存在的对象”。这就意味着，开发者不用显式地实例化内置对象，因为它们已经实例化好了。前面我们已经接触了大部分内置对象，包括 Object、Array 和 String。本节介绍 ECMA-262 定义的另外两个单例内置对象：Global 和 Math</p> <h3 id="_5-4-1-global"><a href="#_5-4-1-global" class="header-anchor">#</a> 5.4.1 Global</h3> <ul><li>是 ECMAScript 中最特别的对象，因为代码不会显式地访问它</li> <li>不存在全局变量或全局函数这种东西。在全局作用域中定义的变量和函数都会变成 Global 对象的属性</li> <li>isNaN()、isFinite()、parseInt()和 parseFloat()，实际上都是 Global 对象的方法</li></ul> <p>Global 对象上还有另外一些方法。</p> <h4 id="_1-url-编码方法"><a href="#_1-url-编码方法" class="header-anchor">#</a> 1. URL 编码方法</h4> <p>encodeURI() 和 encodeURIComponent()) 方法用于编码统一资源标识符（URI），以便传给浏览器。
有效的 URI 不能包含某些字符，比如空格。使用 URI 编码方法来编码 URI 可以让浏览器能够理解它们，同时又以特殊的 UTF-8 编码替换掉所有无效字符。</p> <div class="language-js extra-class"><pre class="language-js"><code><span class="token keyword">let</span> uri <span class="token operator">=</span> <span class="token string">'http://www.wrox.com/illegal value.js#start'</span>

<span class="token comment">// &quot;http://www.wrox.com/illegal%20value.js#start&quot;</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token function">encodeURI</span><span class="token punctuation">(</span>uri<span class="token punctuation">)</span><span class="token punctuation">)</span>
<span class="token comment">// &quot;http%3A%2F%2Fwww.wrox.com%2Fillegal%20value.js%23start&quot;</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token function">encodeURIComponent</span><span class="token punctuation">(</span>uri<span class="token punctuation">)</span><span class="token punctuation">)</span>
</code></pre></div><div class="custom-block warning"><p class="custom-block-title">注意</p> <p>一般来说，使用 encodeURIComponent()应该比使用 encodeURI()的频率更高，这是因为编码查询字符串参数比编码基准 URI 的次数更多。</p></div> <p>与 encodeURI()和 encodeURIComponent()相对的是 decodeURI()和 decodeURIComponent()。decodeURI()只对使用 encodeURI()编码过的字符解码。</p> <div class="language-js extra-class"><pre class="language-js"><code><span class="token keyword">let</span> uri <span class="token operator">=</span> <span class="token string">'http%3A%2F%2Fwww.wrox.com%2Fillegal%20value.js%23start'</span>
<span class="token comment">// http%3A%2F%2Fwww.wrox.com%2Fillegal value.js%23start</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token function">decodeURI</span><span class="token punctuation">(</span>uri<span class="token punctuation">)</span><span class="token punctuation">)</span>
<span class="token comment">// http:// www.wrox.com/illegal value.js#start</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token function">decodeURIComponent</span><span class="token punctuation">(</span>uri<span class="token punctuation">)</span><span class="token punctuation">)</span>

<span class="token comment">// 这里，uri 变量中包含一个使用 encodeURIComponent()编码过的字符串。首先输出的是使用decodeURI()解码的结果，可以看到只用空格替换了%20。然后是使用 decodeURIComponent()解码的结果，其中替换了所有特殊字符，并输出了没有包含任何转义的字符串。（这个字符串不是有效的 URL。）</span>
</code></pre></div><div class="custom-block warning"><p class="custom-block-title">注意</p> <p>URI 方法 encodeURI()、encodeURIComponent()、decodeURI()和 decodeURIComponent()取代了 escape()和 unescape()方法，后者在 ECMA-262 第 3 版中就已经废弃了。URI 方法始终是首选方法，因为它们对所有 Unicode 字符进行编码，而原来的方法只能正确编码 ASCII 字符。不要在生产环境中使用 escape()和 unescape()。</p></div> <h4 id="_2-eval-方法"><a href="#_2-eval-方法" class="header-anchor">#</a> 2. eval()方法</h4> <p>可能是整个 ECMAScript 语言中最强大的了<br>
这个方法就是一个完整的 ECMAScript 解释器，它接收一个参数，即一个要执行的 ECMAScript（JavaScript）字符串。</p> <div class="language-js extra-class"><pre class="language-js"><code><span class="token function">eval</span><span class="token punctuation">(</span><span class="token string">&quot;console.log('hi')&quot;</span><span class="token punctuation">)</span>

<span class="token comment">//上面这行代码的功能与下一行等价：</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">'hi'</span><span class="token punctuation">)</span>
</code></pre></div><div class="custom-block warning"><p class="custom-block-title">注意</p> <p>解释代码字符串的能力是非常强大的，但也非常危险。在使用 eval()的时候必须极为慎重，特别是在解释用户输入的内容时。因为这个方法会对 XSS 利用暴露出很大的攻击面。恶意用户可能插入会导致你网站或应用崩溃的代码。</p></div> <h4 id="_3-global-对象属性"><a href="#_3-global-对象属性" class="header-anchor">#</a> 3. Global 对象属性</h4> <p>Global 对象有很多属性，其中一些前面已经提到过了。像 undefined、NaN 和 Infinity 等特殊值都是 Global 对象的属性。此外，所有原生引用类型构造函数，比如 Object 和 Function，也都是 Global 对象的属性。下表列出了所有这些属性。</p> <table><thead><tr><th style="text-align:left;">属 性</th> <th style="text-align:left;">说 明</th></tr></thead> <tbody><tr><td style="text-align:left;">undefined</td> <td style="text-align:left;">特殊值 undefined</td></tr> <tr><td style="text-align:left;">NaN</td> <td style="text-align:left;">特殊值 NaN</td></tr> <tr><td style="text-align:left;">Infinity</td> <td style="text-align:left;">特殊值 Infinity</td></tr> <tr><td style="text-align:left;">Object</td> <td style="text-align:left;">Object 的构造函数</td></tr> <tr><td style="text-align:left;">Array</td> <td style="text-align:left;">Array 的构造函数</td></tr> <tr><td style="text-align:left;">Function</td> <td style="text-align:left;">Function 的构造函数</td></tr> <tr><td style="text-align:left;">Boolean</td> <td style="text-align:left;">Boolean 的构造函数</td></tr> <tr><td style="text-align:left;">String</td> <td style="text-align:left;">String 的构造函数</td></tr> <tr><td style="text-align:left;">Number</td> <td style="text-align:left;">Number 的构造函数</td></tr> <tr><td style="text-align:left;">Date</td> <td style="text-align:left;">Date 的构造函数</td></tr> <tr><td style="text-align:left;">RegExp</td> <td style="text-align:left;">RegExp 的构造函数</td></tr> <tr><td style="text-align:left;">Symbol</td> <td style="text-align:left;">Symbol 的伪构造函数</td></tr> <tr><td style="text-align:left;">Error</td> <td style="text-align:left;">Error 的构造函数</td></tr> <tr><td style="text-align:left;">EvalError</td> <td style="text-align:left;">EvalError 的构造函数</td></tr> <tr><td style="text-align:left;">RangeError</td> <td style="text-align:left;">RangeError 的构造函数</td></tr> <tr><td style="text-align:left;">ReferenceError</td> <td style="text-align:left;">ReferenceError 的构造函数</td></tr> <tr><td style="text-align:left;">SyntaxError</td> <td style="text-align:left;">SyntaxError 的构造函数</td></tr> <tr><td style="text-align:left;">TypeError</td> <td style="text-align:left;">TypeError 的构造函数</td></tr> <tr><td style="text-align:left;">URIError</td> <td style="text-align:left;">URIError 的构造函数</td></tr></tbody></table> <h4 id="_4-window-对象"><a href="#_4-window-对象" class="header-anchor">#</a> 4. window 对象</h4> <p>虽然 ECMA-262 没有规定直接访问 Global 对象的方式，但浏览器将 window 对象实现为 Global
对象的代理。因此，所有全局作用域中声明的变量和函数都变成了 window 的属性。来看下面的例子：</p> <div class="language-js extra-class"><pre class="language-js"><code><span class="token keyword">var</span> color <span class="token operator">=</span> <span class="token string">'red'</span>
<span class="token keyword">function</span> <span class="token function">sayColor</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>window<span class="token punctuation">.</span>color<span class="token punctuation">)</span>
<span class="token punctuation">}</span>
window<span class="token punctuation">.</span><span class="token function">sayColor</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token comment">// &quot;red&quot;</span>
</code></pre></div><p>另一种获取 Global 对象的方式是使用如下的代码：</p> <div class="language-js extra-class"><pre class="language-js"><code><span class="token keyword">let</span> global <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token keyword">return</span> <span class="token keyword">this</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
</code></pre></div><p>这段代码创建一个立即调用的函数表达式，返回了 this 的值。如前所述，当一个函数在没有明确（通过成为某个对象的方法，或者通过 call()/apply()）指定 this 值的情况下执行时，this 值等于 Global 对象。因此，调用一个简单返回 this 的函数是在任何执行上下文中获取 Global 对象的通用方式。</p> <h3 id="_5-4-2-math"><a href="#_5-4-2-math" class="header-anchor">#</a> 5.4.2 Math</h3> <div class="custom-block warning"><p class="custom-block-title">注意</p> <p>Math 对象上提供的计算要比直接在 JavaScript 实现的快得多，因为 Math 对象上的计算使用了 JavaScript 引擎中更高效的实现和处理器指令。但使用 Math 计算的问题是精度会因浏览器、操作系统、指令集和硬件而异。</p></div> <h4 id="_2-min-和-max-方法"><a href="#_2-min-和-max-方法" class="header-anchor">#</a> 2. min()和 max()方法</h4> <p>用于确定一组数值中的最小值和最大值</p> <div class="language-js extra-class"><pre class="language-js"><code><span class="token keyword">let</span> max <span class="token operator">=</span> Math<span class="token punctuation">.</span><span class="token function">max</span><span class="token punctuation">(</span><span class="token number">3</span><span class="token punctuation">,</span> <span class="token number">54</span><span class="token punctuation">,</span> <span class="token number">32</span><span class="token punctuation">,</span> <span class="token number">16</span><span class="token punctuation">)</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>max<span class="token punctuation">)</span> <span class="token comment">// 54</span>

<span class="token keyword">let</span> min <span class="token operator">=</span> Math<span class="token punctuation">.</span><span class="token function">min</span><span class="token punctuation">(</span><span class="token number">3</span><span class="token punctuation">,</span> <span class="token number">54</span><span class="token punctuation">,</span> <span class="token number">32</span><span class="token punctuation">,</span> <span class="token number">16</span><span class="token punctuation">)</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>min<span class="token punctuation">)</span> <span class="token comment">// 3</span>

<span class="token comment">// 数组中的最大值和最小值，可以像下面这样使用扩展操作符</span>
<span class="token keyword">let</span> values <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">,</span> <span class="token number">3</span><span class="token punctuation">,</span> <span class="token number">4</span><span class="token punctuation">,</span> <span class="token number">5</span><span class="token punctuation">,</span> <span class="token number">6</span><span class="token punctuation">,</span> <span class="token number">7</span><span class="token punctuation">,</span> <span class="token number">8</span><span class="token punctuation">]</span>
<span class="token keyword">let</span> max <span class="token operator">=</span> Math<span class="token punctuation">.</span><span class="token function">max</span><span class="token punctuation">(</span><span class="token operator">...</span>val<span class="token punctuation">)</span>
</code></pre></div><h4 id="_3-舍入方法"><a href="#_3-舍入方法" class="header-anchor">#</a> 3. 舍入方法</h4> <p>用于把小数值舍入为整数的 4 个方法:</p> <ul><li>Math.ceil() 向上取整</li> <li>Math.floor() 向下取整</li> <li>Math.round() 四舍五入</li> <li>Math.fround() 返回数值最接近的单精度（32 位）浮点值表示</li></ul> <div class="language-js extra-class"><pre class="language-js"><code>console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>Math<span class="token punctuation">.</span><span class="token function">ceil</span><span class="token punctuation">(</span><span class="token number">25.9</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token comment">// 26</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>Math<span class="token punctuation">.</span><span class="token function">ceil</span><span class="token punctuation">(</span><span class="token number">25.5</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token comment">// 26</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>Math<span class="token punctuation">.</span><span class="token function">ceil</span><span class="token punctuation">(</span><span class="token number">25.1</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token comment">// 26</span>

console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>Math<span class="token punctuation">.</span><span class="token function">floor</span><span class="token punctuation">(</span><span class="token number">25.9</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token comment">// 25</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>Math<span class="token punctuation">.</span><span class="token function">floor</span><span class="token punctuation">(</span><span class="token number">25.5</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token comment">// 25</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>Math<span class="token punctuation">.</span><span class="token function">floor</span><span class="token punctuation">(</span><span class="token number">25.1</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token comment">// 25</span>

console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>Math<span class="token punctuation">.</span><span class="token function">round</span><span class="token punctuation">(</span><span class="token number">25.9</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token comment">// 26</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>Math<span class="token punctuation">.</span><span class="token function">round</span><span class="token punctuation">(</span><span class="token number">25.5</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token comment">// 26</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>Math<span class="token punctuation">.</span><span class="token function">round</span><span class="token punctuation">(</span><span class="token number">25.1</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token comment">// 25</span>

console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>Math<span class="token punctuation">.</span><span class="token function">fround</span><span class="token punctuation">(</span><span class="token number">0.4</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token comment">// 0.4000000059604645</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>Math<span class="token punctuation">.</span><span class="token function">fround</span><span class="token punctuation">(</span><span class="token number">0.5</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token comment">// 0.5</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>Math<span class="token punctuation">.</span><span class="token function">fround</span><span class="token punctuation">(</span><span class="token number">25.9</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token comment">// 25.899999618530273</span>
</code></pre></div><h4 id="_4-random-方法"><a href="#_4-random-方法" class="header-anchor">#</a> 4. random()方法</h4> <p>返回一个 0~1 范围内的随机数，其中包含 0 但不包含 1。</p> <div class="language-js extra-class"><pre class="language-js"><code><span class="token comment">// 1~10 范围内随机选择一个数</span>
<span class="token keyword">let</span> num <span class="token operator">=</span> Math<span class="token punctuation">.</span><span class="token function">floor</span><span class="token punctuation">(</span>Math<span class="token punctuation">.</span><span class="token function">random</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">*</span> <span class="token number">10</span> <span class="token operator">+</span> <span class="token number">1</span><span class="token punctuation">)</span>

<span class="token comment">// 2~10 只有 9 个数，所以可选总数是 9</span>
<span class="token keyword">let</span> num <span class="token operator">=</span> Math<span class="token punctuation">.</span><span class="token function">floor</span><span class="token punctuation">(</span>Math<span class="token punctuation">.</span><span class="token function">random</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">*</span> <span class="token number">9</span> <span class="token operator">+</span> <span class="token number">2</span><span class="token punctuation">)</span>

<span class="token comment">// 推荐：函数来算出可选总数和最小可能的值可能更方便</span>
<span class="token comment">// 参数：应该返回的最小值和最大值</span>
<span class="token keyword">function</span> <span class="token function">selectFrom</span><span class="token punctuation">(</span><span class="token parameter">lowerValue<span class="token punctuation">,</span> upperValue</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token keyword">let</span> choices <span class="token operator">=</span> upperValue <span class="token operator">-</span> lowerValue <span class="token operator">+</span> <span class="token number">1</span>
  <span class="token keyword">return</span> Math<span class="token punctuation">.</span><span class="token function">floor</span><span class="token punctuation">(</span>Math<span class="token punctuation">.</span><span class="token function">random</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">*</span> choices <span class="token operator">+</span> lowerValue<span class="token punctuation">)</span>
<span class="token punctuation">}</span>
<span class="token keyword">let</span> num <span class="token operator">=</span> <span class="token function">selectFrom</span><span class="token punctuation">(</span><span class="token number">2</span><span class="token punctuation">,</span> <span class="token number">10</span><span class="token punctuation">)</span>

<span class="token comment">// 从一个数组中随机选择一个元素</span>
<span class="token keyword">let</span> colors <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token string">'red'</span><span class="token punctuation">,</span> <span class="token string">'green'</span><span class="token punctuation">,</span> <span class="token string">'blue'</span><span class="token punctuation">,</span> <span class="token string">'yellow'</span><span class="token punctuation">,</span> <span class="token string">'black'</span><span class="token punctuation">,</span> <span class="token string">'purple'</span><span class="token punctuation">,</span> <span class="token string">'brown'</span><span class="token punctuation">]</span>
<span class="token keyword">let</span> color <span class="token operator">=</span> colors<span class="token punctuation">[</span><span class="token function">selectFrom</span><span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">,</span> colors<span class="token punctuation">.</span>length <span class="token operator">-</span> <span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">]</span>
</code></pre></div><h2 id="_5-5-小结"><a href="#_5-5-小结" class="header-anchor">#</a> 5.5 小结</h2> <p>JavaScript 中的对象称为引用值，几种内置的引用类型可用于创建特定类型的对象。</p> <ul><li>引用值与传统面向对象编程语言中的类相似，但实现不同。</li> <li>Date 类型提供关于日期和时间的信息，包括当前日期、时间及相关计算。</li> <li>RegExp 类型是 ECMAScript 支持正则表达式的接口，提供了大多数基础的和部分高级的正则表达式功能。</li></ul> <p>JavaScript 比较独特的一点是，函数实际上是 Function 类型的实例，也就是说函数也是对象。因为函数也是对象，所以函数也有方法，可以用于增强其能力。、</p> <p>由于原始值包装类型的存在，JavaScript 中的原始值可以被当成对象来使用。有 3 种原始值包装类型：Boolean、Number 和 String。它们都具备如下特点。</p> <ul><li>每种包装类型都映射到同名的原始类型。</li> <li>以读模式访问原始值时，后台会实例化一个原始值包装类型的对象，借助这个对象可以操作相应的数据。</li> <li>涉及原始值的语句执行完毕后，包装对象就会被销毁。</li></ul> <p>当代码开始执行时，全局上下文中会存在两个内置对象：Global 和 Math。其中，Global 对象在大多数 ECMAScript 实现中无法直接访问。不过，浏览器将其实现为 window 对象。所有全局变量和函数都是 Global 对象的属性。Math 对象包含辅助完成复杂计算的属性和方法。</p></div> <footer class="page-edit"><!----> <div class="last-updated"><span class="prefix">最后更新时间:</span> <span class="time">1/16/2023, 4:00:39 PM</span></div></footer> <div class="page-nav"><p class="inner"><span class="prev">
      ←
      <a href="/cc/book/js4/var.html" class="prev">
        第 4 章 变量、作用域与内存
      </a></span> <span class="next"><a href="/cc/book/js4/collectionType.html">
        第 6 章 集合引用类型
      </a>
      →
    </span></p></div> </main></div><div class="global-ui"><!----><!----><div></div></div></div>
    <script src="/cc/assets/js/app.fa0899e6.js" defer></script><script src="/cc/assets/js/2.e5636081.js" defer></script><script src="/cc/assets/js/29.dd94e122.js" defer></script>
  </body>
</html>
